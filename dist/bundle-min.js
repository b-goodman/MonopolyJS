!function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[a]={exports:{}};e[a][0].call(s.exports,function(t){return o(e[a][1][t]||t)},s,s.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}}()({1:[function(t,e,n){e.exports=[{type:"CHEST",cardID:0,cardContent:"Advance to GO",actionType:"TRANSITION_ABS",actionPrimary:1,actionSecondary:null},{type:"CHEST",cardID:1,cardContent:"Advance to Trafalgar Square",actionType:"TRANSITION_ABS",actionPrimary:25,actionSecondary:null},{type:"CHEST",cardID:2,cardContent:"Advance to Pall Mall",actionType:"TRANSITION_ABS",actionPrimary:12,actionSecondary:null},{type:"CHEST",cardID:3,cardContent:"Advance to Nearest Utility",actionType:"TRANSITION_REL",actionPrimary:"NEXT",actionSecondary:"UTILITY"},{type:"CHEST",cardID:4,cardContent:"Advance to Nearset Railroad",actionType:"TRANSITION_REL",actionPrimary:"NEXT",actionSecondary:"RAILROAD"},{type:"CHEST",cardID:5,cardContent:"Advance to Nearset Railroad",actionType:"TRANSITION_REL",actionPrimary:"NEXT",actionSecondary:"RAILROAD"},{type:"CHEST",cardID:6,cardContent:"Collect £50",actionType:"CREDIT_ABS",actionPrimary:50,actionSecondary:null},{type:"CHEST",cardID:7,cardContent:"Get out of Jail Free",actionType:"JAIL",actionPrimary:"OUT",actionSecondary:null},{type:"CHEST",cardID:8,cardContent:"Go Back 3 Spaces",actionType:"TRANSITION_REL",actionPrimary:"GO",actionSecondary:-3},{type:"CHEST",cardID:9,cardContent:"Go to Jail",actionType:"JAIL",actionPrimary:"IN",actionSecondary:null},{type:"CHEST",cardID:10,cardContent:"Make Repairs",actionType:"DEBIT_REL",actionPrimary:"REPAIR",actionSecondary:null},{type:"CHEST",cardID:11,cardContent:"Pay £15",actionType:"DEBIT_ABS",actionPrimary:15,actionSecondary:null},{type:"CHEST",cardID:12,cardContent:"Go to King's Cross Station",actionType:"TRANSITION_ABS",actionPrimary:36,actionSecondary:null},{type:"CHEST",cardID:13,cardContent:"Advance to Mayfair",actionType:"TRANSITION_ABS",actionPrimary:40,actionSecondary:null},{type:"CHEST",cardID:14,cardContent:"Pay Each Player £50",actionType:"DEBIT_REL",actionPrimary:"PAY_EACH",actionSecondary:50},{type:"CHEST",cardID:15,cardContent:"Collect £150",actionType:"CREDIT_ABS",actionPrimary:150,actionSecondary:null},{type:"CHEST",cardID:16,cardContent:"Collect £100",actionType:"CREDIT_ABS",actionPrimary:150,actionSecondary:null},{type:"CHANCE",cardID:0,cardContent:"Advance to GO",actionType:"TRANSITION_ABS",actionPrimary:1,actionSecondary:null},{type:"CHANCE",cardID:1,cardContent:"Collect £50",actionType:"DEBIT_ABS",actionPrimary:50,actionSecondary:null},{type:"CHANCE",cardID:2,cardContent:"Pay £50",actionType:"DEBIT_ABS",actionPrimary:50,actionSecondary:null},{type:"CHANCE",cardID:3,cardContent:"Collect £50",actionType:"CREDIT_ABS",actionPrimary:50,actionSecondary:null},{type:"CHANCE",cardID:4,cardContent:"Get Out of Jail Free",actionType:"JAIL",actionPrimary:"OUT",actionSecondary:null},{type:"CHANCE",cardID:5,cardContent:"Go to Jail",actionType:"JAIL",actionPrimary:"IN",actionSecondary:null},{type:"CHANCE",cardID:6,cardContent:"Collect £50 From Each Player",actionType:"CREDIT_REL",actionPrimary:"FROM_EACH",actionSecondary:50},{type:"CHANCE",cardID:7,cardContent:"Collect £100",actionType:"CREDIT_ABS",actionPrimary:100,actionSecondary:null},{type:"CHANCE",cardID:8,cardContent:"Collect £20",actionType:"CREDIT_ABS",actionPrimary:20,actionSecondary:null},{type:"CHANCE",cardID:9,cardContent:"Collect £10 From Each Player",actionType:"CREDIT_REL",actionPrimary:"FROM_EACH",actionSecondary:10},{type:"CHANCE",cardID:10,cardContent:"Collect £100",actionType:"CREDIT_ABS",actionPrimary:100,actionSecondary:null},{type:"CHANCE",cardID:11,cardContent:"Pay £100",actionType:"DEBIT_ABS",actionPrimary:100,actionSecondary:null},{type:"CHANCE",cardID:12,cardContent:"Pay £150",actionType:"DEBIT_ABS",actionPrimary:150,actionSecondary:null},{type:"CHANCE",cardID:13,cardContent:"Collect £25",actionType:"CREDIT_ABS",actionPrimary:25,actionSecondary:null},{type:"CHANCE",cardID:14,cardContent:"Make Repairs",actionType:"DEBIT_REL",actionPrimary:"REPAIR",actionSecondary:null},{type:"CHANCE",cardID:15,cardContent:"Collect £10",actionType:"CREDIT_ABS",actionPrimary:10,actionSecondary:null},{type:"CHANCE",cardID:16,cardContent:"Collect £100",actionType:"CREDIT_ABS",actionPrimary:100,actionSecondary:null}]},{}],2:[function(t,e,n){e.exports=[{type:"RAILROAD",location:36,name:"King's Cross Station",color:"Gray",baseValue:200,mortgageValue:100,rent:[25,50,100,200]},{type:"RAILROAD",location:26,name:"Fenchurch St Station",color:"Gray",baseValue:200,mortgageValue:100,rent:[25,50,100,200]},{type:"RAILROAD",location:16,name:"Marylebone Station",color:"Gray",baseValue:200,mortgageValue:100,rent:[25,50,100,200]},{type:"RAILROAD",location:6,name:"Reading Railroad",color:"Gray",baseValue:200,mortgageValue:100,rent:[25,50,100,200]},{type:"SPECIAL",location:39,name:"Super Tax",color:"Gray",actionType:"debitAbs",actionParamater:100},{type:"SPECIAL",location:37,name:"Chance C",color:"Gray",actionType:"drawCard",actionParamater:"chance"},{type:"SPECIAL",location:34,name:"Community Chest C",color:"Gray",actionType:"drawCard",actionParamater:"chest"},{type:"SPECIAL",location:31,name:"Go To Jail",color:"Gray",actionType:"transitionAbs",actionParamater:0},{type:"SPECIAL",location:23,name:"Chance B",color:"Gray",actionType:"drawCard",actionParamater:"chance"},{type:"SPECIAL",location:21,name:"Free Parking",color:"Gray",actionType:"parking",actionParamater:null},{type:"SPECIAL",location:18,name:"Community Chest B",color:"Gray",actionType:"drawCard",actionParamater:"chest"},{type:"SPECIAL",location:11,name:"Visiting Jail",color:"Gray",actionType:null,actionParamater:null},{type:"SPECIAL",location:8,name:"Chance A",color:"Gray",actionType:"drawCard",actionParamater:"chance"},{type:"SPECIAL",location:5,name:"Income Tax",color:"grey",actionType:"debitAbs",actionParamater:100},{type:"SPECIAL",location:3,name:"Community Chest A",color:"Gray",actionType:"drawCard",actionParamater:"chest"},{type:"UTILITY",location:13,name:"Electric Company",color:"Gray",baseValue:150,mortgageValue:75,rent:[4,10]},{type:"UTILITY",location:29,name:"Water Works",color:"Gray",baseValue:150,mortgageValue:75,rent:[4,10]},{type:"PROPERTY",location:2,name:"Old Kent Road",groupID:"Brown",groupIDs:"A",baseValue:60,mortgageValue:50,houseValue:30,hotelValue:30,rent:[2,10,30,90,160,250]},{type:"PROPERTY",location:4,name:"Whitechapel Road",groupID:"Brown",groupIDs:"A",baseValue:60,mortgageValue:50,houseValue:30,hotelValue:30,rent:[4,20,60,180,360,450]},{type:"PROPERTY",location:7,name:"The Angel Islington",groupID:"Cyan",groupIDs:"B",baseValue:100,mortgageValue:50,houseValue:50,hotelValue:50,rent:[6,30,90,270,400,550]},{type:"PROPERTY",location:9,name:"Euston Road",groupID:"Cyan",groupIDs:"B",baseValue:100,mortgageValue:50,houseValue:50,hotelValue:50,rent:[6,30,90,270,400,550]},{type:"PROPERTY",location:10,name:"Pentonville Road",groupID:"Cyan",groupIDs:"B",baseValue:120,mortgageValue:50,houseValue:50,hotelValue:50,rent:[8,40,100,300,450,600]},{type:"PROPERTY",location:12,name:"Pall Mall",groupID:"Magenta",groupIDs:"C",baseValue:140,mortgageValue:70,houseValue:100,hotelValue:100,rent:[10,50,150,450,625,750]},{type:"PROPERTY",location:14,name:"Northumberland Avenue",groupID:"Magenta",groupIDs:"C",baseValue:140,mortgageValue:70,houseValue:100,hotelValue:100,rent:[10,50,150,450,625,750]},{type:"PROPERTY",location:15,name:"Whitehall",groupID:"Magenta",groupIDs:"C",baseValue:160,mortgageValue:80,houseValue:100,hotelValue:100,rent:[12,60,180,500,700,900]},{type:"PROPERTY",location:17,name:"Bow Street",groupID:"Orange",groupIDs:"D",baseValue:180,mortgageValue:90,houseValue:100,hotelValue:100,rent:[14,70,200,550,750,950]},{type:"PROPERTY",location:19,name:"Marlborough Street",groupID:"Orange",groupIDs:"D",baseValue:180,mortgageValue:90,houseValue:100,hotelValue:100,rent:[14,70,200,550,750,950]},{type:"PROPERTY",location:20,name:"Vine Street",groupID:"Orange",groupIDs:"D",baseValue:200,mortgageValue:100,houseValue:100,hotelValue:100,rent:[16,80,220,600,800,1e3]},{type:"PROPERTY",location:22,name:"Strand",groupID:"Red",groupIDs:"E",baseValue:220,mortgageValue:110,houseValue:150,hotelValue:150,rent:[18,90,250,700,875,1050]},{type:"PROPERTY",location:24,name:"Fleet Street",groupID:"Red",groupIDs:"E",baseValue:220,mortgageValue:110,houseValue:150,hotelValue:150,rent:[18,90,250,700,875,1050]},{type:"PROPERTY",location:25,name:"Trafalgar Square",groupID:"Red",groupIDs:"E",baseValue:240,mortgageValue:120,houseValue:150,hotelValue:150,rent:[20,100,300,750,925,1100]},{type:"PROPERTY",location:27,name:"Leicester Square",groupID:"Yellow",groupIDs:"F",baseValue:260,mortgageValue:150,houseValue:150,hotelValue:150,rent:[22,110,330,800,975,1150]},{type:"PROPERTY",location:28,name:"Coventry Street",groupID:"Yellow",groupIDs:"F",baseValue:260,mortgageValue:150,houseValue:150,hotelValue:150,rent:[22,110,330,800,975,1150]},{type:"PROPERTY",location:30,name:"Piccadily",groupID:"Yellow",groupIDs:"F",baseValue:280,mortgageValue:150,houseValue:150,hotelValue:150,rent:[22,120,360,850,1025,1200]},{type:"PROPERTY",location:32,name:"Regent Street",groupID:"Green",groupIDs:"G",baseValue:300,mortgageValue:200,houseValue:200,hotelValue:200,rent:[26,130,390,900,1100,1275]},{type:"PROPERTY",location:33,name:"Oxford Street",groupID:"Green",groupIDs:"G",baseValue:300,mortgageValue:200,houseValue:200,hotelValue:200,rent:[26,130,390,900,1100,1275]},{type:"PROPERTY",location:35,name:"Bond Street",groupID:"Green",groupIDs:"G",baseValue:320,mortgageValue:200,houseValue:200,hotelValue:200,rent:[28,150,450,1e3,1200,1400]},{type:"PROPERTY",location:38,name:"Park Lane",groupID:"Blue",groupIDs:"H",baseValue:350,mortgageValue:175,houseValue:200,hotelValue:200,rent:[35,175,500,1100,1300,1500]},{type:"PROPERTY",location:40,name:"Mayfair",groupID:"Blue",groupIDs:"H",baseValue:400,mortgageValue:200,houseValue:200,hotelValue:200,rent:[50,200,600,1400,1700,2e3]}]},{}],3:[function(t,e,n){var r,o;r=this,o=function(t){"use strict";(t=t&&t.hasOwnProperty("default")?t.default:t).mixin({combinations:function(e,n){e=t.values(e);var r,o,i=[];return r=function(r,o,a){o.length<n?t.find(e,function(e,n){r(t.concat(o,[e]),n+1)},a):i.push(o)},(o=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r.call.apply(r,[this,o].concat(t))})([],0),i}})},"object"==typeof n&&void 0!==e?o(t("lodash")):"function"==typeof define&&define.amd?define(["lodash"],o):o(r._)},{lodash:4}],4:[function(t,e,n){(function(t){(function(){var r,o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",s=1,f=2,h=4,p=1,_=2,E=1,g=2,y=4,v=8,d=16,R=32,T=64,A=128,O=256,I=512,C=30,P="...",m=800,N=16,b=1,S=2,L=1/0,D=9007199254740991,w=1.7976931348623157e308,V=NaN,B=4294967295,M=B-1,U=B>>>1,G=[["ary",A],["bind",E],["bindKey",g],["curry",v],["curryRight",d],["flip",I],["partial",R],["partialRight",T],["rearg",O]],j="[object Arguments]",H="[object Array]",x="[object AsyncFunction]",Y="[object Boolean]",k="[object Date]",F="[object DOMException]",J="[object Error]",W="[object Function]",K="[object GeneratorFunction]",z="[object Map]",q="[object Number]",$="[object Null]",X="[object Object]",Q="[object Proxy]",Z="[object RegExp]",tt="[object Set]",et="[object String]",nt="[object Symbol]",rt="[object Undefined]",ot="[object WeakMap]",it="[object WeakSet]",at="[object ArrayBuffer]",ut="[object DataView]",ct="[object Float32Array]",lt="[object Float64Array]",st="[object Int8Array]",ft="[object Int16Array]",ht="[object Int32Array]",pt="[object Uint8Array]",_t="[object Uint8ClampedArray]",Et="[object Uint16Array]",gt="[object Uint32Array]",yt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,At=RegExp(Rt.source),Ot=RegExp(Tt.source),It=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Pt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(St.source),Dt=/^\s+|\s+$/g,wt=/^\s+/,Vt=/\s+$/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ut=/,? & /,Gt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jt=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,kt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,Wt=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zt=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,$t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="[\\ud800-\\udfff]",Zt="["+Xt+"]",te="["+$t+"]",ee="\\d+",ne="[\\u2700-\\u27bf]",re="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Xt+ee+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ie="\\ud83c[\\udffb-\\udfff]",ae="[^\\ud800-\\udfff]",ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",se="(?:"+re+"|"+oe+")",fe="(?:"+le+"|"+oe+")",he="(?:"+te+"|"+ie+")"+"?",pe="[\\ufe0e\\ufe0f]?"+he+("(?:\\u200d(?:"+[ae,ue,ce].join("|")+")[\\ufe0e\\ufe0f]?"+he+")*"),_e="(?:"+[ne,ue,ce].join("|")+")"+pe,Ee="(?:"+[ae+te+"?",te,ue,ce,Qt].join("|")+")",ge=RegExp("['’]","g"),ye=RegExp(te,"g"),ve=RegExp(ie+"(?="+ie+")|"+Ee+pe,"g"),de=RegExp([le+"?"+re+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Zt,le,"$"].join("|")+")",fe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Zt,le+se,"$"].join("|")+")",le+"?"+se+"+(?:['’](?:d|ll|m|re|s|t|ve))?",le+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ee,_e].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff"+$t+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oe=-1,Ie={};Ie[ct]=Ie[lt]=Ie[st]=Ie[ft]=Ie[ht]=Ie[pt]=Ie[_t]=Ie[Et]=Ie[gt]=!0,Ie[j]=Ie[H]=Ie[at]=Ie[Y]=Ie[ut]=Ie[k]=Ie[J]=Ie[W]=Ie[z]=Ie[q]=Ie[X]=Ie[Z]=Ie[tt]=Ie[et]=Ie[ot]=!1;var Ce={};Ce[j]=Ce[H]=Ce[at]=Ce[ut]=Ce[Y]=Ce[k]=Ce[ct]=Ce[lt]=Ce[st]=Ce[ft]=Ce[ht]=Ce[z]=Ce[q]=Ce[X]=Ce[Z]=Ce[tt]=Ce[et]=Ce[nt]=Ce[pt]=Ce[_t]=Ce[Et]=Ce[gt]=!0,Ce[J]=Ce[W]=Ce[ot]=!1;var Pe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},me=parseFloat,Ne=parseInt,be="object"==typeof t&&t&&t.Object===Object&&t,Se="object"==typeof self&&self&&self.Object===Object&&self,Le=be||Se||Function("return this")(),De="object"==typeof n&&n&&!n.nodeType&&n,we=De&&"object"==typeof e&&e&&!e.nodeType&&e,Ve=we&&we.exports===De,Be=Ve&&be.process,Me=function(){try{var t=we&&we.require&&we.require("util").types;return t||Be&&Be.binding&&Be.binding("util")}catch(t){}}(),Ue=Me&&Me.isArrayBuffer,Ge=Me&&Me.isDate,je=Me&&Me.isMap,He=Me&&Me.isRegExp,xe=Me&&Me.isSet,Ye=Me&&Me.isTypedArray;function ke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Fe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function We(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ze(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function qe(t,e){return!!(null==t?0:t.length)&&an(t,e,0)>-1}function $e(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Xe(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Qe(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Ze(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function tn(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function en(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var nn=sn("length");function rn(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}function on(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function an(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):on(t,cn,n)}function un(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function cn(t){return t!=t}function ln(t,e){var n=null==t?0:t.length;return n?pn(t,e)/n:V}function sn(t){return function(e){return null==e?r:e[t]}}function fn(t){return function(e){return null==t?r:t[e]}}function hn(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function pn(t,e){for(var n,o=-1,i=t.length;++o<i;){var a=e(t[o]);a!==r&&(n=n===r?a:n+a)}return n}function _n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function En(t){return function(e){return t(e)}}function gn(t,e){return Xe(e,function(e){return t[e]})}function yn(t,e){return t.has(e)}function vn(t,e){for(var n=-1,r=t.length;++n<r&&an(e,t[n],0)>-1;);return n}function dn(t,e){for(var n=t.length;n--&&an(e,t[n],0)>-1;);return n}var Rn=fn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Tn=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function An(t){return"\\"+Pe[t]}function On(t){return Re.test(t)}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Cn(t,e){return function(n){return t(e(n))}}function Pn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==l||(t[n]=l,i[o++]=n)}return i}function mn(t,e){return"__proto__"==e?r:t[e]}function Nn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function bn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Sn(t){return On(t)?function(t){var e=ve.lastIndex=0;for(;ve.test(t);)++e;return e}(t):nn(t)}function Ln(t){return On(t)?function(t){return t.match(ve)||[]}(t):function(t){return t.split("")}(t)}var Dn=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var wn=function t(e){var n,$t=(e=null==e?Le:wn.defaults(Le.Object(),e,wn.pick(Le,Ae))).Array,Xt=e.Date,Qt=e.Error,Zt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,oe=e.TypeError,ie=$t.prototype,ae=Zt.prototype,ue=ee.prototype,ce=e["__core-js_shared__"],le=ae.toString,se=ue.hasOwnProperty,fe=0,he=(n=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",pe=ue.toString,_e=le.call(ee),Ee=Le._,ve=ne("^"+le.call(se).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=Ve?e.Buffer:r,Pe=e.Symbol,be=e.Uint8Array,Se=Re?Re.allocUnsafe:r,De=Cn(ee.getPrototypeOf,ee),we=ee.create,Be=ue.propertyIsEnumerable,Me=ie.splice,nn=Pe?Pe.isConcatSpreadable:r,fn=Pe?Pe.iterator:r,Vn=Pe?Pe.toStringTag:r,Bn=function(){try{var t=Hi(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Mn=e.clearTimeout!==Le.clearTimeout&&e.clearTimeout,Un=Xt&&Xt.now!==Le.Date.now&&Xt.now,Gn=e.setTimeout!==Le.setTimeout&&e.setTimeout,jn=te.ceil,Hn=te.floor,xn=ee.getOwnPropertySymbols,Yn=Re?Re.isBuffer:r,kn=e.isFinite,Fn=ie.join,Jn=Cn(ee.keys,ee),Wn=te.max,Kn=te.min,zn=Xt.now,qn=e.parseInt,$n=te.random,Xn=ie.reverse,Qn=Hi(e,"DataView"),Zn=Hi(e,"Map"),tr=Hi(e,"Promise"),er=Hi(e,"Set"),nr=Hi(e,"WeakMap"),rr=Hi(ee,"create"),or=nr&&new nr,ir={},ar=fa(Qn),ur=fa(Zn),cr=fa(tr),lr=fa(er),sr=fa(nr),fr=Pe?Pe.prototype:r,hr=fr?fr.valueOf:r,pr=fr?fr.toString:r;function _r(t){if(Nu(t)&&!yu(t)&&!(t instanceof vr)){if(t instanceof yr)return t;if(se.call(t,"__wrapped__"))return ha(t)}return new yr(t)}var Er=function(){function t(){}return function(e){if(!mu(e))return{};if(we)return we(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function gr(){}function yr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function vr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function dr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ar(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Tr;++e<n;)this.add(t[e])}function Or(t){var e=this.__data__=new Rr(t);this.size=e.size}function Ir(t,e){var n=yu(t),r=!n&&gu(t),o=!n&&!r&&Tu(t),i=!n&&!r&&!o&&Mu(t),a=n||r||o||i,u=a?_n(t.length,re):[],c=u.length;for(var l in t)!e&&!se.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ki(l,c))||u.push(l);return u}function Cr(t){var e=t.length;return e?t[Oo(0,e-1)]:r}function Pr(t,e){return ca(oi(t),Br(e,0,t.length))}function mr(t){return ca(oi(t))}function Nr(t,e,n){(n===r||pu(t[e],n))&&(n!==r||e in t)||wr(t,e,n)}function br(t,e,n){var o=t[e];se.call(t,e)&&pu(o,n)&&(n!==r||e in t)||wr(t,e,n)}function Sr(t,e){for(var n=t.length;n--;)if(pu(t[n][0],e))return n;return-1}function Lr(t,e,n,r){return Hr(t,function(t,o,i){e(r,t,n(t),i)}),r}function Dr(t,e){return t&&ii(e,oc(e),t)}function wr(t,e,n){"__proto__"==e&&Bn?Bn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Vr(t,e){for(var n=-1,o=e.length,i=$t(o),a=null==t;++n<o;)i[n]=a?r:Zu(t,e[n]);return i}function Br(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function Mr(t,e,n,o,i,a){var u,c=e&s,l=e&f,p=e&h;if(n&&(u=i?n(t,o,i,a):n(t)),u!==r)return u;if(!mu(t))return t;var _=yu(t);if(_){if(u=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&se.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return oi(t,u)}else{var E=ki(t),g=E==W||E==K;if(Tu(t))return Qo(t,c);if(E==X||E==j||g&&!i){if(u=l||g?{}:Ji(t),!c)return l?function(t,e){return ii(t,Yi(t),e)}(t,function(t,e){return t&&ii(e,ic(e),t)}(u,t)):function(t,e){return ii(t,xi(t),e)}(t,Dr(u,t))}else{if(!Ce[E])return i?t:{};u=function(t,e,n){var r,o,i,a=t.constructor;switch(e){case at:return Zo(t);case Y:case k:return new a(+t);case ut:return function(t,e){var n=e?Zo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case lt:case st:case ft:case ht:case pt:case _t:case Et:case gt:return ti(t,n);case z:return new a;case q:case et:return new a(t);case Z:return(i=new(o=t).constructor(o.source,xt.exec(o))).lastIndex=o.lastIndex,i;case tt:return new a;case nt:return r=t,hr?ee(hr.call(r)):{}}}(t,E,c)}}a||(a=new Or);var y=a.get(t);if(y)return y;if(a.set(t,u),wu(t))return t.forEach(function(r){u.add(Mr(r,e,n,r,t,a))}),u;if(bu(t))return t.forEach(function(r,o){u.set(o,Mr(r,e,n,o,t,a))}),u;var v=_?r:(p?l?wi:Di:l?ic:oc)(t);return Je(v||t,function(r,o){v&&(r=t[o=r]),br(u,o,Mr(r,e,n,o,t,a))}),u}function Ur(t,e,n){var o=n.length;if(null==t)return!o;for(t=ee(t);o--;){var i=n[o],a=e[i],u=t[i];if(u===r&&!(i in t)||!a(u))return!1}return!0}function Gr(t,e,n){if("function"!=typeof t)throw new oe(a);return oa(function(){t.apply(r,n)},e)}function jr(t,e,n,r){var i=-1,a=qe,u=!0,c=t.length,l=[],s=e.length;if(!c)return l;n&&(e=Xe(e,En(n))),r?(a=$e,u=!1):e.length>=o&&(a=yn,u=!1,e=new Ar(e));t:for(;++i<c;){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,u&&h==h){for(var p=s;p--;)if(e[p]===h)continue t;l.push(f)}else a(e,h,r)||l.push(f)}return l}_r.templateSettings={escape:It,evaluate:Ct,interpolate:Pt,variable:"",imports:{_:_r}},_r.prototype=gr.prototype,_r.prototype.constructor=_r,yr.prototype=Er(gr.prototype),yr.prototype.constructor=yr,vr.prototype=Er(gr.prototype),vr.prototype.constructor=vr,dr.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},dr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},dr.prototype.get=function(t){var e=this.__data__;if(rr){var n=e[t];return n===u?r:n}return se.call(e,t)?e[t]:r},dr.prototype.has=function(t){var e=this.__data__;return rr?e[t]!==r:se.call(e,t)},dr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rr&&e===r?u:e,this},Rr.prototype.clear=function(){this.__data__=[],this.size=0},Rr.prototype.delete=function(t){var e=this.__data__,n=Sr(e,t);return!(n<0||(n==e.length-1?e.pop():Me.call(e,n,1),--this.size,0))},Rr.prototype.get=function(t){var e=this.__data__,n=Sr(e,t);return n<0?r:e[n][1]},Rr.prototype.has=function(t){return Sr(this.__data__,t)>-1},Rr.prototype.set=function(t,e){var n=this.__data__,r=Sr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Tr.prototype.clear=function(){this.size=0,this.__data__={hash:new dr,map:new(Zn||Rr),string:new dr}},Tr.prototype.delete=function(t){var e=Gi(this,t).delete(t);return this.size-=e?1:0,e},Tr.prototype.get=function(t){return Gi(this,t).get(t)},Tr.prototype.has=function(t){return Gi(this,t).has(t)},Tr.prototype.set=function(t,e){var n=Gi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ar.prototype.add=Ar.prototype.push=function(t){return this.__data__.set(t,u),this},Ar.prototype.has=function(t){return this.__data__.has(t)},Or.prototype.clear=function(){this.__data__=new Rr,this.size=0},Or.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Or.prototype.get=function(t){return this.__data__.get(t)},Or.prototype.has=function(t){return this.__data__.has(t)},Or.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Rr){var r=n.__data__;if(!Zn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Tr(r)}return n.set(t,e),this.size=n.size,this};var Hr=ci(zr),xr=ci(qr,!0);function Yr(t,e){var n=!0;return Hr(t,function(t,r,o){return n=!!e(t,r,o)}),n}function kr(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(c===r?u==u&&!Bu(u):n(u,c)))var c=u,l=a}return l}function Fr(t,e){var n=[];return Hr(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function Jr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=Wi),o||(o=[]);++i<a;){var u=t[i];e>0&&n(u)?e>1?Jr(u,e-1,n,r,o):Qe(o,u):r||(o[o.length]=u)}return o}var Wr=li(),Kr=li(!0);function zr(t,e){return t&&Wr(t,e,oc)}function qr(t,e){return t&&Kr(t,e,oc)}function $r(t,e){return ze(e,function(e){return Iu(t[e])})}function Xr(t,e){for(var n=0,o=(e=zo(e,t)).length;null!=t&&n<o;)t=t[sa(e[n++])];return n&&n==o?t:r}function Qr(t,e,n){var r=e(t);return yu(t)?r:Qe(r,n(t))}function Zr(t){return null==t?t===r?rt:$:Vn&&Vn in ee(t)?function(t){var e=se.call(t,Vn),n=t[Vn];try{t[Vn]=r;var o=!0}catch(t){}var i=pe.call(t);return o&&(e?t[Vn]=n:delete t[Vn]),i}(t):function(t){return pe.call(t)}(t)}function to(t,e){return t>e}function eo(t,e){return null!=t&&se.call(t,e)}function no(t,e){return null!=t&&e in ee(t)}function ro(t,e,n){for(var o=n?$e:qe,i=t[0].length,a=t.length,u=a,c=$t(a),l=1/0,s=[];u--;){var f=t[u];u&&e&&(f=Xe(f,En(e))),l=Kn(f.length,l),c[u]=!n&&(e||i>=120&&f.length>=120)?new Ar(u&&f):r}f=t[0];var h=-1,p=c[0];t:for(;++h<i&&s.length<l;){var _=f[h],E=e?e(_):_;if(_=n||0!==_?_:0,!(p?yn(p,E):o(s,E,n))){for(u=a;--u;){var g=c[u];if(!(g?yn(g,E):o(t[u],E,n)))continue t}p&&p.push(E),s.push(_)}}return s}function oo(t,e,n){var o=null==(t=na(t,e=zo(e,t)))?t:t[sa(Oa(e))];return null==o?r:ke(o,t,n)}function io(t){return Nu(t)&&Zr(t)==j}function ao(t,e,n,o,i){return t===e||(null==t||null==e||!Nu(t)&&!Nu(e)?t!=t&&e!=e:function(t,e,n,o,i,a){var u=yu(t),c=yu(e),l=u?H:ki(t),s=c?H:ki(e),f=(l=l==j?X:l)==X,h=(s=s==j?X:s)==X,E=l==s;if(E&&Tu(t)){if(!Tu(e))return!1;u=!0,f=!1}if(E&&!f)return a||(a=new Or),u||Mu(t)?Si(t,e,n,o,i,a):function(t,e,n,r,o,i,a){switch(n){case ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case at:return!(t.byteLength!=e.byteLength||!i(new be(t),new be(e)));case Y:case k:case q:return pu(+t,+e);case J:return t.name==e.name&&t.message==e.message;case Z:case et:return t==e+"";case z:var u=In;case tt:var c=r&p;if(u||(u=Nn),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;r|=_,a.set(t,e);var s=Si(u(t),u(e),r,o,i,a);return a.delete(t),s;case nt:if(hr)return hr.call(t)==hr.call(e)}return!1}(t,e,l,n,o,i,a);if(!(n&p)){var g=f&&se.call(t,"__wrapped__"),y=h&&se.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,d=y?e.value():e;return a||(a=new Or),i(v,d,n,o,a)}}return!!E&&(a||(a=new Or),function(t,e,n,o,i,a){var u=n&p,c=Di(t),l=c.length,s=Di(e).length;if(l!=s&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in e:se.call(e,h)))return!1}var _=a.get(t);if(_&&a.get(e))return _==e;var E=!0;a.set(t,e),a.set(e,t);for(var g=u;++f<l;){h=c[f];var y=t[h],v=e[h];if(o)var d=u?o(v,y,h,e,t,a):o(y,v,h,t,e,a);if(!(d===r?y===v||i(y,v,n,o,a):d)){E=!1;break}g||(g="constructor"==h)}if(E&&!g){var R=t.constructor,T=e.constructor;R!=T&&"constructor"in t&&"constructor"in e&&!("function"==typeof R&&R instanceof R&&"function"==typeof T&&T instanceof T)&&(E=!1)}return a.delete(t),a.delete(e),E}(t,e,n,o,i,a))}(t,e,n,o,ao,i))}function uo(t,e,n,o){var i=n.length,a=i,u=!o;if(null==t)return!a;for(t=ee(t);i--;){var c=n[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var l=(c=n[i])[0],s=t[l],f=c[1];if(u&&c[2]){if(s===r&&!(l in t))return!1}else{var h=new Or;if(o)var E=o(s,f,l,t,e,h);if(!(E===r?ao(f,s,p|_,o,h):E))return!1}}return!0}function co(t){return!(!mu(t)||(e=t,he&&he in e))&&(Iu(t)?ve:Ft).test(fa(t));var e}function lo(t){return"function"==typeof t?t:null==t?Sc:"object"==typeof t?yu(t)?Eo(t[0],t[1]):_o(t):jc(t)}function so(t){if(!Qi(t))return Jn(t);var e=[];for(var n in ee(t))se.call(t,n)&&"constructor"!=n&&e.push(n);return e}function fo(t){if(!mu(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Qi(t),n=[];for(var r in t)("constructor"!=r||!e&&se.call(t,r))&&n.push(r);return n}function ho(t,e){return t<e}function po(t,e){var n=-1,r=du(t)?$t(t.length):[];return Hr(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function _o(t){var e=ji(t);return 1==e.length&&e[0][2]?ta(e[0][0],e[0][1]):function(n){return n===t||uo(n,t,e)}}function Eo(t,e){return qi(t)&&Zi(e)?ta(sa(t),e):function(n){var o=Zu(n,t);return o===r&&o===e?tc(n,t):ao(e,o,p|_)}}function go(t,e,n,o,i){t!==e&&Wr(e,function(a,u){if(mu(a))i||(i=new Or),function(t,e,n,o,i,a,u){var c=mn(t,n),l=mn(e,n),s=u.get(l);if(s)Nr(t,n,s);else{var f=a?a(c,l,n+"",t,e,u):r,h=f===r;if(h){var p=yu(l),_=!p&&Tu(l),E=!p&&!_&&Mu(l);f=l,p||_||E?yu(c)?f=c:Ru(c)?f=oi(c):_?(h=!1,f=Qo(l,!0)):E?(h=!1,f=ti(l,!0)):f=[]:Lu(l)||gu(l)?(f=c,gu(c)?f=Fu(c):(!mu(c)||o&&Iu(c))&&(f=Ji(l))):h=!1}h&&(u.set(l,f),i(f,l,o,a,u),u.delete(l)),Nr(t,n,f)}}(t,e,u,n,go,o,i);else{var c=o?o(mn(t,u),a,u+"",t,e,i):r;c===r&&(c=a),Nr(t,u,c)}},ic)}function yo(t,e){var n=t.length;if(n)return Ki(e+=e<0?n:0,n)?t[e]:r}function vo(t,e,n){var r=-1;return e=Xe(e.length?e:[Sc],En(Ui())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(po(t,function(t,n,o){return{criteria:Xe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,u=n.length;++r<a;){var c=ei(o[r],i[r]);if(c){if(r>=u)return c;var l=n[r];return c*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function Ro(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=Xr(t,a);n(u,a)&&No(i,zo(a,t),u)}return i}function To(t,e,n,r){var o=r?un:an,i=-1,a=e.length,u=t;for(t===e&&(e=oi(e)),n&&(u=Xe(t,En(n)));++i<a;)for(var c=0,l=e[i],s=n?n(l):l;(c=o(u,s,c,r))>-1;)u!==t&&Me.call(u,c,1),Me.call(t,c,1);return t}function Ao(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;Ki(o)?Me.call(t,o,1):Ho(t,o)}}return t}function Oo(t,e){return t+Hn($n()*(e-t+1))}function Io(t,e){var n="";if(!t||e<1||e>D)return n;do{e%2&&(n+=t),(e=Hn(e/2))&&(t+=t)}while(e);return n}function Co(t,e){return ia(ea(t,e,Sc),t+"")}function Po(t){return Cr(pc(t))}function mo(t,e){var n=pc(t);return ca(n,Br(e,0,n.length))}function No(t,e,n,o){if(!mu(t))return t;for(var i=-1,a=(e=zo(e,t)).length,u=a-1,c=t;null!=c&&++i<a;){var l=sa(e[i]),s=n;if(i!=u){var f=c[l];(s=o?o(f,l,c):r)===r&&(s=mu(f)?f:Ki(e[i+1])?[]:{})}br(c,l,s),c=c[l]}return t}var bo=or?function(t,e){return or.set(t,e),t}:Sc,So=Bn?function(t,e){return Bn(t,"toString",{configurable:!0,enumerable:!1,value:mc(e),writable:!0})}:Sc;function Lo(t){return ca(pc(t))}function Do(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=$t(o);++r<o;)i[r]=t[r+e];return i}function wo(t,e){var n;return Hr(t,function(t,r,o){return!(n=e(t,r,o))}),!!n}function Vo(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=U){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!Bu(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Bo(t,e,Sc,n)}function Bo(t,e,n,o){e=n(e);for(var i=0,a=null==t?0:t.length,u=e!=e,c=null===e,l=Bu(e),s=e===r;i<a;){var f=Hn((i+a)/2),h=n(t[f]),p=h!==r,_=null===h,E=h==h,g=Bu(h);if(u)var y=o||E;else y=s?E&&(o||p):c?E&&p&&(o||!_):l?E&&p&&!_&&(o||!g):!_&&!g&&(o?h<=e:h<e);y?i=f+1:a=f}return Kn(a,M)}function Mo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!pu(u,c)){var c=u;i[o++]=0===a?0:a}}return i}function Uo(t){return"number"==typeof t?t:Bu(t)?V:+t}function Go(t){if("string"==typeof t)return t;if(yu(t))return Xe(t,Go)+"";if(Bu(t))return pr?pr.call(t):"";var e=t+"";return"0"==e&&1/t==-L?"-0":e}function jo(t,e,n){var r=-1,i=qe,a=t.length,u=!0,c=[],l=c;if(n)u=!1,i=$e;else if(a>=o){var s=e?null:Ii(t);if(s)return Nn(s);u=!1,i=yn,l=new Ar}else l=e?[]:c;t:for(;++r<a;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,u&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),c.push(f)}else i(l,h,n)||(l!==c&&l.push(h),c.push(f))}return c}function Ho(t,e){return null==(t=na(t,e=zo(e,t)))||delete t[sa(Oa(e))]}function xo(t,e,n,r){return No(t,e,n(Xr(t,e)),r)}function Yo(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Do(t,r?0:i,r?i+1:o):Do(t,r?i+1:0,r?o:i)}function ko(t,e){var n=t;return n instanceof vr&&(n=n.value()),Ze(e,function(t,e){return e.func.apply(e.thisArg,Qe([t],e.args))},n)}function Fo(t,e,n){var r=t.length;if(r<2)return r?jo(t[0]):[];for(var o=-1,i=$t(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(i[o]=jr(i[o]||a,t[u],e,n));return jo(Jr(i,1),e,n)}function Jo(t,e,n){for(var o=-1,i=t.length,a=e.length,u={};++o<i;){var c=o<a?e[o]:r;n(u,t[o],c)}return u}function Wo(t){return Ru(t)?t:[]}function Ko(t){return"function"==typeof t?t:Sc}function zo(t,e){return yu(t)?t:qi(t,e)?[t]:la(Ju(t))}var qo=Co;function $o(t,e,n){var o=t.length;return n=n===r?o:n,!e&&n>=o?t:Do(t,e,n)}var Xo=Mn||function(t){return Le.clearTimeout(t)};function Qo(t,e){if(e)return t.slice();var n=t.length,r=Se?Se(n):new t.constructor(n);return t.copy(r),r}function Zo(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function ti(t,e){var n=e?Zo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ei(t,e){if(t!==e){var n=t!==r,o=null===t,i=t==t,a=Bu(t),u=e!==r,c=null===e,l=e==e,s=Bu(e);if(!c&&!s&&!a&&t>e||a&&u&&l&&!c&&!s||o&&u&&l||!n&&l||!i)return 1;if(!o&&!a&&!s&&t<e||s&&n&&i&&!o&&!a||c&&n&&i||!u&&i||!l)return-1}return 0}function ni(t,e,n,r){for(var o=-1,i=t.length,a=n.length,u=-1,c=e.length,l=Wn(i-a,0),s=$t(c+l),f=!r;++u<c;)s[u]=e[u];for(;++o<a;)(f||o<i)&&(s[n[o]]=t[o]);for(;l--;)s[u++]=t[o++];return s}function ri(t,e,n,r){for(var o=-1,i=t.length,a=-1,u=n.length,c=-1,l=e.length,s=Wn(i-u,0),f=$t(s+l),h=!r;++o<s;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(h||o<i)&&(f[p+n[a]]=t[o++]);return f}function oi(t,e){var n=-1,r=t.length;for(e||(e=$t(r));++n<r;)e[n]=t[n];return e}function ii(t,e,n,o){var i=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var c=e[a],l=o?o(n[c],t[c],c,n,t):r;l===r&&(l=t[c]),i?wr(n,c,l):br(n,c,l)}return n}function ai(t,e){return function(n,r){var o=yu(n)?Fe:Lr,i=e?e():{};return o(n,t,Ui(r,2),i)}}function ui(t){return Co(function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,u=i>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(i--,a):r,u&&zi(n[0],n[1],u)&&(a=i<3?r:a,i=1),e=ee(e);++o<i;){var c=n[o];c&&t(e,c,o,a)}return e})}function ci(t,e){return function(n,r){if(null==n)return n;if(!du(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=ee(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function li(t){return function(e,n,r){for(var o=-1,i=ee(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}function si(t){return function(e){var n=On(e=Ju(e))?Ln(e):r,o=n?n[0]:e.charAt(0),i=n?$o(n,1).join(""):e.slice(1);return o[t]()+i}}function fi(t){return function(e){return Ze(Ic(gc(e).replace(ge,"")),t,"")}}function hi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Er(t.prototype),r=t.apply(n,e);return mu(r)?r:n}}function pi(t){return function(e,n,o){var i=ee(e);if(!du(e)){var a=Ui(n,3);e=oc(e),n=function(t){return a(i[t],t,i)}}var u=t(e,n,o);return u>-1?i[a?e[u]:u]:r}}function _i(t){return Li(function(e){var n=e.length,o=n,i=yr.prototype.thru;for(t&&e.reverse();o--;){var u=e[o];if("function"!=typeof u)throw new oe(a);if(i&&!c&&"wrapper"==Bi(u))var c=new yr([],!0)}for(o=c?o:n;++o<n;){var l=Bi(u=e[o]),s="wrapper"==l?Vi(u):r;c=s&&$i(s[0])&&s[1]==(A|v|R|O)&&!s[4].length&&1==s[9]?c[Bi(s[0])].apply(c,s[3]):1==u.length&&$i(u)?c[l]():c.thru(u)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&yu(r))return c.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}function Ei(t,e,n,o,i,a,u,c,l,s){var f=e&A,h=e&E,p=e&g,_=e&(v|d),y=e&I,R=p?r:hi(t);return function E(){for(var g=arguments.length,v=$t(g),d=g;d--;)v[d]=arguments[d];if(_)var T=Mi(E),A=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(v,T);if(o&&(v=ni(v,o,i,_)),a&&(v=ri(v,a,u,_)),g-=A,_&&g<s){var O=Pn(v,T);return Ai(t,e,Ei,E.placeholder,n,v,O,c,l,s-g)}var I=h?n:this,C=p?I[t]:t;return g=v.length,c?v=function(t,e){for(var n=t.length,o=Kn(e.length,n),i=oi(t);o--;){var a=e[o];t[o]=Ki(a,n)?i[a]:r}return t}(v,c):y&&g>1&&v.reverse(),f&&l<g&&(v.length=l),this&&this!==Le&&this instanceof E&&(C=R||hi(C)),C.apply(I,v)}}function gi(t,e){return function(n,r){return function(t,e,n,r){return zr(t,function(t,o,i){e(r,n(t),o,i)}),r}(n,t,e(r),{})}}function yi(t,e){return function(n,o){var i;if(n===r&&o===r)return e;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=Go(n),o=Go(o)):(n=Uo(n),o=Uo(o)),i=t(n,o)}return i}}function vi(t){return Li(function(e){return e=Xe(e,En(Ui())),Co(function(n){var r=this;return t(e,function(t){return ke(t,r,n)})})})}function di(t,e){var n=(e=e===r?" ":Go(e)).length;if(n<2)return n?Io(e,t):e;var o=Io(e,jn(t/Sn(e)));return On(e)?$o(Ln(o),0,t).join(""):o.slice(0,t)}function Ri(t){return function(e,n,o){return o&&"number"!=typeof o&&zi(e,n,o)&&(n=o=r),e=Hu(e),n===r?(n=e,e=0):n=Hu(n),function(t,e,n,r){for(var o=-1,i=Wn(jn((e-t)/(n||1)),0),a=$t(i);i--;)a[r?i:++o]=t,t+=n;return a}(e,n,o=o===r?e<n?1:-1:Hu(o),t)}}function Ti(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ku(e),n=ku(n)),t(e,n)}}function Ai(t,e,n,o,i,a,u,c,l,s){var f=e&v;e|=f?R:T,(e&=~(f?T:R))&y||(e&=~(E|g));var h=[t,e,i,f?a:r,f?u:r,f?r:a,f?r:u,c,l,s],p=n.apply(r,h);return $i(t)&&ra(p,h),p.placeholder=o,aa(p,t,e)}function Oi(t){var e=te[t];return function(t,n){if(t=ku(t),n=null==n?0:Kn(xu(n),292)){var r=(Ju(t)+"e").split("e");return+((r=(Ju(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ii=er&&1/Nn(new er([,-0]))[1]==L?function(t){return new er(t)}:Bc;function Ci(t){return function(e){var n=ki(e);return n==z?In(e):n==tt?bn(e):function(t,e){return Xe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Pi(t,e,n,o,i,u,c,s){var f=e&g;if(!f&&"function"!=typeof t)throw new oe(a);var h=o?o.length:0;if(h||(e&=~(R|T),o=i=r),c=c===r?c:Wn(xu(c),0),s=s===r?s:xu(s),h-=i?i.length:0,e&T){var p=o,_=i;o=i=r}var I=f?r:Vi(t),C=[t,e,n,o,i,p,_,u,c,s];if(I&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<(E|g|A),a=r==A&&n==v||r==A&&n==O&&t[7].length<=e[8]||r==(A|O)&&e[7].length<=e[8]&&n==v;if(!i&&!a)return t;r&E&&(t[2]=e[2],o|=n&E?0:y);var u=e[3];if(u){var c=t[3];t[3]=c?ni(c,u,e[4]):u,t[4]=c?Pn(t[3],l):e[4]}(u=e[5])&&(c=t[5],t[5]=c?ri(c,u,e[6]):u,t[6]=c?Pn(t[5],l):e[6]),(u=e[7])&&(t[7]=u),r&A&&(t[8]=null==t[8]?e[8]:Kn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(C,I),t=C[0],e=C[1],n=C[2],o=C[3],i=C[4],!(s=C[9]=C[9]===r?f?0:t.length:Wn(C[9]-h,0))&&e&(v|d)&&(e&=~(v|d)),e&&e!=E)P=e==v||e==d?function(t,e,n){var o=hi(t);return function i(){for(var a=arguments.length,u=$t(a),c=a,l=Mi(i);c--;)u[c]=arguments[c];var s=a<3&&u[0]!==l&&u[a-1]!==l?[]:Pn(u,l);return(a-=s.length)<n?Ai(t,e,Ei,i.placeholder,r,u,s,r,r,n-a):ke(this&&this!==Le&&this instanceof i?o:t,this,u)}}(t,e,s):e!=R&&e!=(E|R)||i.length?Ei.apply(r,C):function(t,e,n,r){var o=e&E,i=hi(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=r.length,s=$t(l+u),f=this&&this!==Le&&this instanceof e?i:t;++c<l;)s[c]=r[c];for(;u--;)s[c++]=arguments[++a];return ke(f,o?n:this,s)}}(t,e,n,o);else var P=function(t,e,n){var r=e&E,o=hi(t);return function e(){return(this&&this!==Le&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return aa((I?bo:ra)(P,C),t,e)}function mi(t,e,n,o){return t===r||pu(t,ue[n])&&!se.call(o,n)?e:t}function Ni(t,e,n,o,i,a){return mu(t)&&mu(e)&&(a.set(e,t),go(t,e,r,Ni,a),a.delete(e)),t}function bi(t){return Lu(t)?r:t}function Si(t,e,n,o,i,a){var u=n&p,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var s=a.get(t);if(s&&a.get(e))return s==e;var f=-1,h=!0,E=n&_?new Ar:r;for(a.set(t,e),a.set(e,t);++f<c;){var g=t[f],y=e[f];if(o)var v=u?o(y,g,f,e,t,a):o(g,y,f,t,e,a);if(v!==r){if(v)continue;h=!1;break}if(E){if(!en(e,function(t,e){if(!yn(E,e)&&(g===t||i(g,t,n,o,a)))return E.push(e)})){h=!1;break}}else if(g!==y&&!i(g,y,n,o,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Li(t){return ia(ea(t,r,va),t+"")}function Di(t){return Qr(t,oc,xi)}function wi(t){return Qr(t,ic,Yi)}var Vi=or?function(t){return or.get(t)}:Bc;function Bi(t){for(var e=t.name+"",n=ir[e],r=se.call(ir,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Mi(t){return(se.call(_r,"placeholder")?_r:t).placeholder}function Ui(){var t=_r.iteratee||Lc;return t=t===Lc?lo:t,arguments.length?t(arguments[0],arguments[1]):t}function Gi(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function ji(t){for(var e=oc(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Zi(o)]}return e}function Hi(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return co(n)?n:r}var xi=xn?function(t){return null==t?[]:(t=ee(t),ze(xn(t),function(e){return Be.call(t,e)}))}:Yc,Yi=xn?function(t){for(var e=[];t;)Qe(e,xi(t)),t=De(t);return e}:Yc,ki=Zr;function Fi(t,e,n){for(var r=-1,o=(e=zo(e,t)).length,i=!1;++r<o;){var a=sa(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Pu(o)&&Ki(a,o)&&(yu(t)||gu(t))}function Ji(t){return"function"!=typeof t.constructor||Qi(t)?{}:Er(De(t))}function Wi(t){return yu(t)||gu(t)||!!(nn&&t&&t[nn])}function Ki(t,e){var n=typeof t;return!!(e=null==e?D:e)&&("number"==n||"symbol"!=n&&Wt.test(t))&&t>-1&&t%1==0&&t<e}function zi(t,e,n){if(!mu(n))return!1;var r=typeof e;return!!("number"==r?du(n)&&Ki(e,n.length):"string"==r&&e in n)&&pu(n[e],t)}function qi(t,e){if(yu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bu(t))||Nt.test(t)||!mt.test(t)||null!=e&&t in ee(e)}function $i(t){var e=Bi(t),n=_r[e];if("function"!=typeof n||!(e in vr.prototype))return!1;if(t===n)return!0;var r=Vi(n);return!!r&&t===r[0]}(Qn&&ki(new Qn(new ArrayBuffer(1)))!=ut||Zn&&ki(new Zn)!=z||tr&&"[object Promise]"!=ki(tr.resolve())||er&&ki(new er)!=tt||nr&&ki(new nr)!=ot)&&(ki=function(t){var e=Zr(t),n=e==X?t.constructor:r,o=n?fa(n):"";if(o)switch(o){case ar:return ut;case ur:return z;case cr:return"[object Promise]";case lr:return tt;case sr:return ot}return e});var Xi=ce?Iu:kc;function Qi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ue)}function Zi(t){return t==t&&!mu(t)}function ta(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in ee(n))}}function ea(t,e,n){return e=Wn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Wn(r.length-e,0),a=$t(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=$t(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),ke(t,this,u)}}function na(t,e){return e.length<2?t:Xr(t,Do(e,0,-1))}var ra=ua(bo),oa=Gn||function(t,e){return Le.setTimeout(t,e)},ia=ua(So);function aa(t,e,n){var r=e+"";return ia(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Je(G,function(n){var r="_."+n[0];e&n[1]&&!qe(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Mt);return e?e[1].split(Ut):[]}(r),n)))}function ua(t){var e=0,n=0;return function(){var o=zn(),i=N-(o-n);if(n=o,i>0){if(++e>=m)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ca(t,e){var n=-1,o=t.length,i=o-1;for(e=e===r?o:e;++n<e;){var a=Oo(n,i),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var la=function(t){var e=uu(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(bt,function(t,n,r,o){e.push(r?o.replace(jt,"$1"):n||t)}),e});function sa(t){if("string"==typeof t||Bu(t))return t;var e=t+"";return"0"==e&&1/t==-L?"-0":e}function fa(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ha(t){if(t instanceof vr)return t.clone();var e=new yr(t.__wrapped__,t.__chain__);return e.__actions__=oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var pa=Co(function(t,e){return Ru(t)?jr(t,Jr(e,1,Ru,!0)):[]}),_a=Co(function(t,e){var n=Oa(e);return Ru(n)&&(n=r),Ru(t)?jr(t,Jr(e,1,Ru,!0),Ui(n,2)):[]}),Ea=Co(function(t,e){var n=Oa(e);return Ru(n)&&(n=r),Ru(t)?jr(t,Jr(e,1,Ru,!0),r,n):[]});function ga(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:xu(n);return o<0&&(o=Wn(r+o,0)),on(t,Ui(e,3),o)}function ya(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==r&&(i=xu(n),i=n<0?Wn(o+i,0):Kn(i,o-1)),on(t,Ui(e,3),i,!0)}function va(t){return null!=t&&t.length?Jr(t,1):[]}function da(t){return t&&t.length?t[0]:r}var Ra=Co(function(t){var e=Xe(t,Wo);return e.length&&e[0]===t[0]?ro(e):[]}),Ta=Co(function(t){var e=Oa(t),n=Xe(t,Wo);return e===Oa(n)?e=r:n.pop(),n.length&&n[0]===t[0]?ro(n,Ui(e,2)):[]}),Aa=Co(function(t){var e=Oa(t),n=Xe(t,Wo);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?ro(n,r,e):[]});function Oa(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Ia=Co(Ca);function Ca(t,e){return t&&t.length&&e&&e.length?To(t,e):t}var Pa=Li(function(t,e){var n=null==t?0:t.length,r=Vr(t,e);return Ao(t,Xe(e,function(t){return Ki(t,n)?+t:t}).sort(ei)),r});function ma(t){return null==t?t:Xn.call(t)}var Na=Co(function(t){return jo(Jr(t,1,Ru,!0))}),ba=Co(function(t){var e=Oa(t);return Ru(e)&&(e=r),jo(Jr(t,1,Ru,!0),Ui(e,2))}),Sa=Co(function(t){var e=Oa(t);return e="function"==typeof e?e:r,jo(Jr(t,1,Ru,!0),r,e)});function La(t){if(!t||!t.length)return[];var e=0;return t=ze(t,function(t){if(Ru(t))return e=Wn(t.length,e),!0}),_n(e,function(e){return Xe(t,sn(e))})}function Da(t,e){if(!t||!t.length)return[];var n=La(t);return null==e?n:Xe(n,function(t){return ke(e,r,t)})}var wa=Co(function(t,e){return Ru(t)?jr(t,e):[]}),Va=Co(function(t){return Fo(ze(t,Ru))}),Ba=Co(function(t){var e=Oa(t);return Ru(e)&&(e=r),Fo(ze(t,Ru),Ui(e,2))}),Ma=Co(function(t){var e=Oa(t);return e="function"==typeof e?e:r,Fo(ze(t,Ru),r,e)}),Ua=Co(La);var Ga=Co(function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,Da(t,n)});function ja(t){var e=_r(t);return e.__chain__=!0,e}function Ha(t,e){return e(t)}var xa=Li(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,i=function(e){return Vr(e,t)};return!(e>1||this.__actions__.length)&&o instanceof vr&&Ki(n)?((o=o.slice(n,+n+(e?1:0))).__actions__.push({func:Ha,args:[i],thisArg:r}),new yr(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(i)});var Ya=ai(function(t,e,n){se.call(t,n)?++t[n]:wr(t,n,1)});var ka=pi(ga),Fa=pi(ya);function Ja(t,e){return(yu(t)?Je:Hr)(t,Ui(e,3))}function Wa(t,e){return(yu(t)?We:xr)(t,Ui(e,3))}var Ka=ai(function(t,e,n){se.call(t,n)?t[n].push(e):wr(t,n,[e])});var za=Co(function(t,e,n){var r=-1,o="function"==typeof e,i=du(t)?$t(t.length):[];return Hr(t,function(t){i[++r]=o?ke(e,t,n):oo(t,e,n)}),i}),qa=ai(function(t,e,n){wr(t,n,e)});function $a(t,e){return(yu(t)?Xe:po)(t,Ui(e,3))}var Xa=ai(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Qa=Co(function(t,e){if(null==t)return[];var n=e.length;return n>1&&zi(t,e[0],e[1])?e=[]:n>2&&zi(e[0],e[1],e[2])&&(e=[e[0]]),vo(t,Jr(e,1),[])}),Za=Un||function(){return Le.Date.now()};function tu(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Pi(t,A,r,r,r,r,e)}function eu(t,e){var n;if("function"!=typeof e)throw new oe(a);return t=xu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var nu=Co(function(t,e,n){var r=E;if(n.length){var o=Pn(n,Mi(nu));r|=R}return Pi(t,r,e,n,o)}),ru=Co(function(t,e,n){var r=E|g;if(n.length){var o=Pn(n,Mi(ru));r|=R}return Pi(e,r,t,n,o)});function ou(t,e,n){var o,i,u,c,l,s,f=0,h=!1,p=!1,_=!0;if("function"!=typeof t)throw new oe(a);function E(e){var n=o,a=i;return o=i=r,f=e,c=t.apply(a,n)}function g(t){var n=t-s;return s===r||n>=e||n<0||p&&t-f>=u}function y(){var t=Za();if(g(t))return v(t);l=oa(y,function(t){var n=e-(t-s);return p?Kn(n,u-(t-f)):n}(t))}function v(t){return l=r,_&&o?E(t):(o=i=r,c)}function d(){var t=Za(),n=g(t);if(o=arguments,i=this,s=t,n){if(l===r)return function(t){return f=t,l=oa(y,e),h?E(t):c}(s);if(p)return l=oa(y,e),E(s)}return l===r&&(l=oa(y,e)),c}return e=ku(e)||0,mu(n)&&(h=!!n.leading,u=(p="maxWait"in n)?Wn(ku(n.maxWait)||0,e):u,_="trailing"in n?!!n.trailing:_),d.cancel=function(){l!==r&&Xo(l),f=0,o=s=i=l=r},d.flush=function(){return l===r?c:v(Za())},d}var iu=Co(function(t,e){return Gr(t,1,e)}),au=Co(function(t,e,n){return Gr(t,ku(e)||0,n)});function uu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(a);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(uu.Cache||Tr),n}function cu(t){if("function"!=typeof t)throw new oe(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}uu.Cache=Tr;var lu=qo(function(t,e){var n=(e=1==e.length&&yu(e[0])?Xe(e[0],En(Ui())):Xe(Jr(e,1),En(Ui()))).length;return Co(function(r){for(var o=-1,i=Kn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return ke(t,this,r)})}),su=Co(function(t,e){var n=Pn(e,Mi(su));return Pi(t,R,r,e,n)}),fu=Co(function(t,e){var n=Pn(e,Mi(fu));return Pi(t,T,r,e,n)}),hu=Li(function(t,e){return Pi(t,O,r,r,r,e)});function pu(t,e){return t===e||t!=t&&e!=e}var _u=Ti(to),Eu=Ti(function(t,e){return t>=e}),gu=io(function(){return arguments}())?io:function(t){return Nu(t)&&se.call(t,"callee")&&!Be.call(t,"callee")},yu=$t.isArray,vu=Ue?En(Ue):function(t){return Nu(t)&&Zr(t)==at};function du(t){return null!=t&&Pu(t.length)&&!Iu(t)}function Ru(t){return Nu(t)&&du(t)}var Tu=Yn||kc,Au=Ge?En(Ge):function(t){return Nu(t)&&Zr(t)==k};function Ou(t){if(!Nu(t))return!1;var e=Zr(t);return e==J||e==F||"string"==typeof t.message&&"string"==typeof t.name&&!Lu(t)}function Iu(t){if(!mu(t))return!1;var e=Zr(t);return e==W||e==K||e==x||e==Q}function Cu(t){return"number"==typeof t&&t==xu(t)}function Pu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=D}function mu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Nu(t){return null!=t&&"object"==typeof t}var bu=je?En(je):function(t){return Nu(t)&&ki(t)==z};function Su(t){return"number"==typeof t||Nu(t)&&Zr(t)==q}function Lu(t){if(!Nu(t)||Zr(t)!=X)return!1;var e=De(t);if(null===e)return!0;var n=se.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==_e}var Du=He?En(He):function(t){return Nu(t)&&Zr(t)==Z};var wu=xe?En(xe):function(t){return Nu(t)&&ki(t)==tt};function Vu(t){return"string"==typeof t||!yu(t)&&Nu(t)&&Zr(t)==et}function Bu(t){return"symbol"==typeof t||Nu(t)&&Zr(t)==nt}var Mu=Ye?En(Ye):function(t){return Nu(t)&&Pu(t.length)&&!!Ie[Zr(t)]};var Uu=Ti(ho),Gu=Ti(function(t,e){return t<=e});function ju(t){if(!t)return[];if(du(t))return Vu(t)?Ln(t):oi(t);if(fn&&t[fn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[fn]());var e=ki(t);return(e==z?In:e==tt?Nn:pc)(t)}function Hu(t){return t?(t=ku(t))===L||t===-L?(t<0?-1:1)*w:t==t?t:0:0===t?t:0}function xu(t){var e=Hu(t),n=e%1;return e==e?n?e-n:e:0}function Yu(t){return t?Br(xu(t),0,B):0}function ku(t){if("number"==typeof t)return t;if(Bu(t))return V;if(mu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=mu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Dt,"");var n=kt.test(t);return n||Jt.test(t)?Ne(t.slice(2),n?2:8):Yt.test(t)?V:+t}function Fu(t){return ii(t,ic(t))}function Ju(t){return null==t?"":Go(t)}var Wu=ui(function(t,e){if(Qi(e)||du(e))ii(e,oc(e),t);else for(var n in e)se.call(e,n)&&br(t,n,e[n])}),Ku=ui(function(t,e){ii(e,ic(e),t)}),zu=ui(function(t,e,n,r){ii(e,ic(e),t,r)}),qu=ui(function(t,e,n,r){ii(e,oc(e),t,r)}),$u=Li(Vr);var Xu=Co(function(t,e){t=ee(t);var n=-1,o=e.length,i=o>2?e[2]:r;for(i&&zi(e[0],e[1],i)&&(o=1);++n<o;)for(var a=e[n],u=ic(a),c=-1,l=u.length;++c<l;){var s=u[c],f=t[s];(f===r||pu(f,ue[s])&&!se.call(t,s))&&(t[s]=a[s])}return t}),Qu=Co(function(t){return t.push(r,Ni),ke(uc,r,t)});function Zu(t,e,n){var o=null==t?r:Xr(t,e);return o===r?n:o}function tc(t,e){return null!=t&&Fi(t,e,no)}var ec=gi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n},mc(Sc)),nc=gi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),se.call(t,e)?t[e].push(n):t[e]=[n]},Ui),rc=Co(oo);function oc(t){return du(t)?Ir(t):so(t)}function ic(t){return du(t)?Ir(t,!0):fo(t)}var ac=ui(function(t,e,n){go(t,e,n)}),uc=ui(function(t,e,n,r){go(t,e,n,r)}),cc=Li(function(t,e){var n={};if(null==t)return n;var r=!1;e=Xe(e,function(e){return e=zo(e,t),r||(r=e.length>1),e}),ii(t,wi(t),n),r&&(n=Mr(n,s|f|h,bi));for(var o=e.length;o--;)Ho(n,e[o]);return n});var lc=Li(function(t,e){return null==t?{}:function(t,e){return Ro(t,e,function(e,n){return tc(t,n)})}(t,e)});function sc(t,e){if(null==t)return{};var n=Xe(wi(t),function(t){return[t]});return e=Ui(e),Ro(t,n,function(t,n){return e(t,n[0])})}var fc=Ci(oc),hc=Ci(ic);function pc(t){return null==t?[]:gn(t,oc(t))}var _c=fi(function(t,e,n){return e=e.toLowerCase(),t+(n?Ec(e):e)});function Ec(t){return Oc(Ju(t).toLowerCase())}function gc(t){return(t=Ju(t))&&t.replace(Kt,Rn).replace(ye,"")}var yc=fi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),vc=fi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),dc=si("toLowerCase");var Rc=fi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Tc=fi(function(t,e,n){return t+(n?" ":"")+Oc(e)});var Ac=fi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Oc=si("toUpperCase");function Ic(t,e,n){return t=Ju(t),(e=n?r:e)===r?function(t){return Te.test(t)}(t)?function(t){return t.match(de)||[]}(t):function(t){return t.match(Gt)||[]}(t):t.match(e)||[]}var Cc=Co(function(t,e){try{return ke(t,r,e)}catch(t){return Ou(t)?t:new Qt(t)}}),Pc=Li(function(t,e){return Je(e,function(e){e=sa(e),wr(t,e,nu(t[e],t))}),t});function mc(t){return function(){return t}}var Nc=_i(),bc=_i(!0);function Sc(t){return t}function Lc(t){return lo("function"==typeof t?t:Mr(t,s))}var Dc=Co(function(t,e){return function(n){return oo(n,t,e)}}),wc=Co(function(t,e){return function(n){return oo(t,n,e)}});function Vc(t,e,n){var r=oc(e),o=$r(e,r);null!=n||mu(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=$r(e,oc(e)));var i=!(mu(n)&&"chain"in n&&!n.chain),a=Iu(t);return Je(o,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=oi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Qe([this.value()],arguments))})}),t}function Bc(){}var Mc=vi(Xe),Uc=vi(Ke),Gc=vi(en);function jc(t){return qi(t)?sn(sa(t)):function(t){return function(e){return Xr(e,t)}}(t)}var Hc=Ri(),xc=Ri(!0);function Yc(){return[]}function kc(){return!1}var Fc=yi(function(t,e){return t+e},0),Jc=Oi("ceil"),Wc=yi(function(t,e){return t/e},1),Kc=Oi("floor");var zc,qc=yi(function(t,e){return t*e},1),$c=Oi("round"),Xc=yi(function(t,e){return t-e},0);return _r.after=function(t,e){if("function"!=typeof e)throw new oe(a);return t=xu(t),function(){if(--t<1)return e.apply(this,arguments)}},_r.ary=tu,_r.assign=Wu,_r.assignIn=Ku,_r.assignInWith=zu,_r.assignWith=qu,_r.at=$u,_r.before=eu,_r.bind=nu,_r.bindAll=Pc,_r.bindKey=ru,_r.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return yu(t)?t:[t]},_r.chain=ja,_r.chunk=function(t,e,n){e=(n?zi(t,e,n):e===r)?1:Wn(xu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,a=0,u=$t(jn(o/e));i<o;)u[a++]=Do(t,i,i+=e);return u},_r.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},_r.concat=function(){var t=arguments.length;if(!t)return[];for(var e=$t(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Qe(yu(n)?oi(n):[n],Jr(e,1))},_r.cond=function(t){var e=null==t?0:t.length,n=Ui();return t=e?Xe(t,function(t){if("function"!=typeof t[1])throw new oe(a);return[n(t[0]),t[1]]}):[],Co(function(n){for(var r=-1;++r<e;){var o=t[r];if(ke(o[0],this,n))return ke(o[1],this,n)}})},_r.conforms=function(t){return function(t){var e=oc(t);return function(n){return Ur(n,t,e)}}(Mr(t,s))},_r.constant=mc,_r.countBy=Ya,_r.create=function(t,e){var n=Er(t);return null==e?n:Dr(n,e)},_r.curry=function t(e,n,o){var i=Pi(e,v,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},_r.curryRight=function t(e,n,o){var i=Pi(e,d,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},_r.debounce=ou,_r.defaults=Xu,_r.defaultsDeep=Qu,_r.defer=iu,_r.delay=au,_r.difference=pa,_r.differenceBy=_a,_r.differenceWith=Ea,_r.drop=function(t,e,n){var o=null==t?0:t.length;return o?Do(t,(e=n||e===r?1:xu(e))<0?0:e,o):[]},_r.dropRight=function(t,e,n){var o=null==t?0:t.length;return o?Do(t,0,(e=o-(e=n||e===r?1:xu(e)))<0?0:e):[]},_r.dropRightWhile=function(t,e){return t&&t.length?Yo(t,Ui(e,3),!0,!0):[]},_r.dropWhile=function(t,e){return t&&t.length?Yo(t,Ui(e,3),!0):[]},_r.fill=function(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&zi(t,e,n)&&(n=0,o=i),function(t,e,n,o){var i=t.length;for((n=xu(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:xu(o))<0&&(o+=i),o=n>o?0:Yu(o);n<o;)t[n++]=e;return t}(t,e,n,o)):[]},_r.filter=function(t,e){return(yu(t)?ze:Fr)(t,Ui(e,3))},_r.flatMap=function(t,e){return Jr($a(t,e),1)},_r.flatMapDeep=function(t,e){return Jr($a(t,e),L)},_r.flatMapDepth=function(t,e,n){return n=n===r?1:xu(n),Jr($a(t,e),n)},_r.flatten=va,_r.flattenDeep=function(t){return null!=t&&t.length?Jr(t,L):[]},_r.flattenDepth=function(t,e){return null!=t&&t.length?Jr(t,e=e===r?1:xu(e)):[]},_r.flip=function(t){return Pi(t,I)},_r.flow=Nc,_r.flowRight=bc,_r.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},_r.functions=function(t){return null==t?[]:$r(t,oc(t))},_r.functionsIn=function(t){return null==t?[]:$r(t,ic(t))},_r.groupBy=Ka,_r.initial=function(t){return null!=t&&t.length?Do(t,0,-1):[]},_r.intersection=Ra,_r.intersectionBy=Ta,_r.intersectionWith=Aa,_r.invert=ec,_r.invertBy=nc,_r.invokeMap=za,_r.iteratee=Lc,_r.keyBy=qa,_r.keys=oc,_r.keysIn=ic,_r.map=$a,_r.mapKeys=function(t,e){var n={};return e=Ui(e,3),zr(t,function(t,r,o){wr(n,e(t,r,o),t)}),n},_r.mapValues=function(t,e){var n={};return e=Ui(e,3),zr(t,function(t,r,o){wr(n,r,e(t,r,o))}),n},_r.matches=function(t){return _o(Mr(t,s))},_r.matchesProperty=function(t,e){return Eo(t,Mr(e,s))},_r.memoize=uu,_r.merge=ac,_r.mergeWith=uc,_r.method=Dc,_r.methodOf=wc,_r.mixin=Vc,_r.negate=cu,_r.nthArg=function(t){return t=xu(t),Co(function(e){return yo(e,t)})},_r.omit=cc,_r.omitBy=function(t,e){return sc(t,cu(Ui(e)))},_r.once=function(t){return eu(2,t)},_r.orderBy=function(t,e,n,o){return null==t?[]:(yu(e)||(e=null==e?[]:[e]),yu(n=o?r:n)||(n=null==n?[]:[n]),vo(t,e,n))},_r.over=Mc,_r.overArgs=lu,_r.overEvery=Uc,_r.overSome=Gc,_r.partial=su,_r.partialRight=fu,_r.partition=Xa,_r.pick=lc,_r.pickBy=sc,_r.property=jc,_r.propertyOf=function(t){return function(e){return null==t?r:Xr(t,e)}},_r.pull=Ia,_r.pullAll=Ca,_r.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?To(t,e,Ui(n,2)):t},_r.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?To(t,e,r,n):t},_r.pullAt=Pa,_r.range=Hc,_r.rangeRight=xc,_r.rearg=hu,_r.reject=function(t,e){return(yu(t)?ze:Fr)(t,cu(Ui(e,3)))},_r.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Ui(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Ao(t,o),n},_r.rest=function(t,e){if("function"!=typeof t)throw new oe(a);return Co(t,e=e===r?e:xu(e))},_r.reverse=ma,_r.sampleSize=function(t,e,n){return e=(n?zi(t,e,n):e===r)?1:xu(e),(yu(t)?Pr:mo)(t,e)},_r.set=function(t,e,n){return null==t?t:No(t,e,n)},_r.setWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:No(t,e,n,o)},_r.shuffle=function(t){return(yu(t)?mr:Lo)(t)},_r.slice=function(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&zi(t,e,n)?(e=0,n=o):(e=null==e?0:xu(e),n=n===r?o:xu(n)),Do(t,e,n)):[]},_r.sortBy=Qa,_r.sortedUniq=function(t){return t&&t.length?Mo(t):[]},_r.sortedUniqBy=function(t,e){return t&&t.length?Mo(t,Ui(e,2)):[]},_r.split=function(t,e,n){return n&&"number"!=typeof n&&zi(t,e,n)&&(e=n=r),(n=n===r?B:n>>>0)?(t=Ju(t))&&("string"==typeof e||null!=e&&!Du(e))&&!(e=Go(e))&&On(t)?$o(Ln(t),0,n):t.split(e,n):[]},_r.spread=function(t,e){if("function"!=typeof t)throw new oe(a);return e=null==e?0:Wn(xu(e),0),Co(function(n){var r=n[e],o=$o(n,0,e);return r&&Qe(o,r),ke(t,this,o)})},_r.tail=function(t){var e=null==t?0:t.length;return e?Do(t,1,e):[]},_r.take=function(t,e,n){return t&&t.length?Do(t,0,(e=n||e===r?1:xu(e))<0?0:e):[]},_r.takeRight=function(t,e,n){var o=null==t?0:t.length;return o?Do(t,(e=o-(e=n||e===r?1:xu(e)))<0?0:e,o):[]},_r.takeRightWhile=function(t,e){return t&&t.length?Yo(t,Ui(e,3),!1,!0):[]},_r.takeWhile=function(t,e){return t&&t.length?Yo(t,Ui(e,3)):[]},_r.tap=function(t,e){return e(t),t},_r.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new oe(a);return mu(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ou(t,e,{leading:r,maxWait:e,trailing:o})},_r.thru=Ha,_r.toArray=ju,_r.toPairs=fc,_r.toPairsIn=hc,_r.toPath=function(t){return yu(t)?Xe(t,sa):Bu(t)?[t]:oi(la(Ju(t)))},_r.toPlainObject=Fu,_r.transform=function(t,e,n){var r=yu(t),o=r||Tu(t)||Mu(t);if(e=Ui(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:mu(t)&&Iu(i)?Er(De(t)):{}}return(o?Je:zr)(t,function(t,r,o){return e(n,t,r,o)}),n},_r.unary=function(t){return tu(t,1)},_r.union=Na,_r.unionBy=ba,_r.unionWith=Sa,_r.uniq=function(t){return t&&t.length?jo(t):[]},_r.uniqBy=function(t,e){return t&&t.length?jo(t,Ui(e,2)):[]},_r.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?jo(t,r,e):[]},_r.unset=function(t,e){return null==t||Ho(t,e)},_r.unzip=La,_r.unzipWith=Da,_r.update=function(t,e,n){return null==t?t:xo(t,e,Ko(n))},_r.updateWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:xo(t,e,Ko(n),o)},_r.values=pc,_r.valuesIn=function(t){return null==t?[]:gn(t,ic(t))},_r.without=wa,_r.words=Ic,_r.wrap=function(t,e){return su(Ko(e),t)},_r.xor=Va,_r.xorBy=Ba,_r.xorWith=Ma,_r.zip=Ua,_r.zipObject=function(t,e){return Jo(t||[],e||[],br)},_r.zipObjectDeep=function(t,e){return Jo(t||[],e||[],No)},_r.zipWith=Ga,_r.entries=fc,_r.entriesIn=hc,_r.extend=Ku,_r.extendWith=zu,Vc(_r,_r),_r.add=Fc,_r.attempt=Cc,_r.camelCase=_c,_r.capitalize=Ec,_r.ceil=Jc,_r.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ku(n))==n?n:0),e!==r&&(e=(e=ku(e))==e?e:0),Br(ku(t),e,n)},_r.clone=function(t){return Mr(t,h)},_r.cloneDeep=function(t){return Mr(t,s|h)},_r.cloneDeepWith=function(t,e){return Mr(t,s|h,e="function"==typeof e?e:r)},_r.cloneWith=function(t,e){return Mr(t,h,e="function"==typeof e?e:r)},_r.conformsTo=function(t,e){return null==e||Ur(t,e,oc(e))},_r.deburr=gc,_r.defaultTo=function(t,e){return null==t||t!=t?e:t},_r.divide=Wc,_r.endsWith=function(t,e,n){t=Ju(t),e=Go(e);var o=t.length,i=n=n===r?o:Br(xu(n),0,o);return(n-=e.length)>=0&&t.slice(n,i)==e},_r.eq=pu,_r.escape=function(t){return(t=Ju(t))&&Ot.test(t)?t.replace(Tt,Tn):t},_r.escapeRegExp=function(t){return(t=Ju(t))&&Lt.test(t)?t.replace(St,"\\$&"):t},_r.every=function(t,e,n){var o=yu(t)?Ke:Yr;return n&&zi(t,e,n)&&(e=r),o(t,Ui(e,3))},_r.find=ka,_r.findIndex=ga,_r.findKey=function(t,e){return rn(t,Ui(e,3),zr)},_r.findLast=Fa,_r.findLastIndex=ya,_r.findLastKey=function(t,e){return rn(t,Ui(e,3),qr)},_r.floor=Kc,_r.forEach=Ja,_r.forEachRight=Wa,_r.forIn=function(t,e){return null==t?t:Wr(t,Ui(e,3),ic)},_r.forInRight=function(t,e){return null==t?t:Kr(t,Ui(e,3),ic)},_r.forOwn=function(t,e){return t&&zr(t,Ui(e,3))},_r.forOwnRight=function(t,e){return t&&qr(t,Ui(e,3))},_r.get=Zu,_r.gt=_u,_r.gte=Eu,_r.has=function(t,e){return null!=t&&Fi(t,e,eo)},_r.hasIn=tc,_r.head=da,_r.identity=Sc,_r.includes=function(t,e,n,r){t=du(t)?t:pc(t),n=n&&!r?xu(n):0;var o=t.length;return n<0&&(n=Wn(o+n,0)),Vu(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&an(t,e,n)>-1},_r.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:xu(n);return o<0&&(o=Wn(r+o,0)),an(t,e,o)},_r.inRange=function(t,e,n){return e=Hu(e),n===r?(n=e,e=0):n=Hu(n),function(t,e,n){return t>=Kn(e,n)&&t<Wn(e,n)}(t=ku(t),e,n)},_r.invoke=rc,_r.isArguments=gu,_r.isArray=yu,_r.isArrayBuffer=vu,_r.isArrayLike=du,_r.isArrayLikeObject=Ru,_r.isBoolean=function(t){return!0===t||!1===t||Nu(t)&&Zr(t)==Y},_r.isBuffer=Tu,_r.isDate=Au,_r.isElement=function(t){return Nu(t)&&1===t.nodeType&&!Lu(t)},_r.isEmpty=function(t){if(null==t)return!0;if(du(t)&&(yu(t)||"string"==typeof t||"function"==typeof t.splice||Tu(t)||Mu(t)||gu(t)))return!t.length;var e=ki(t);if(e==z||e==tt)return!t.size;if(Qi(t))return!so(t).length;for(var n in t)if(se.call(t,n))return!1;return!0},_r.isEqual=function(t,e){return ao(t,e)},_r.isEqualWith=function(t,e,n){var o=(n="function"==typeof n?n:r)?n(t,e):r;return o===r?ao(t,e,r,n):!!o},_r.isError=Ou,_r.isFinite=function(t){return"number"==typeof t&&kn(t)},_r.isFunction=Iu,_r.isInteger=Cu,_r.isLength=Pu,_r.isMap=bu,_r.isMatch=function(t,e){return t===e||uo(t,e,ji(e))},_r.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,uo(t,e,ji(e),n)},_r.isNaN=function(t){return Su(t)&&t!=+t},_r.isNative=function(t){if(Xi(t))throw new Qt(i);return co(t)},_r.isNil=function(t){return null==t},_r.isNull=function(t){return null===t},_r.isNumber=Su,_r.isObject=mu,_r.isObjectLike=Nu,_r.isPlainObject=Lu,_r.isRegExp=Du,_r.isSafeInteger=function(t){return Cu(t)&&t>=-D&&t<=D},_r.isSet=wu,_r.isString=Vu,_r.isSymbol=Bu,_r.isTypedArray=Mu,_r.isUndefined=function(t){return t===r},_r.isWeakMap=function(t){return Nu(t)&&ki(t)==ot},_r.isWeakSet=function(t){return Nu(t)&&Zr(t)==it},_r.join=function(t,e){return null==t?"":Fn.call(t,e)},_r.kebabCase=yc,_r.last=Oa,_r.lastIndexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=xu(n))<0?Wn(o+i,0):Kn(i,o-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):on(t,cn,i,!0)},_r.lowerCase=vc,_r.lowerFirst=dc,_r.lt=Uu,_r.lte=Gu,_r.max=function(t){return t&&t.length?kr(t,Sc,to):r},_r.maxBy=function(t,e){return t&&t.length?kr(t,Ui(e,2),to):r},_r.mean=function(t){return ln(t,Sc)},_r.meanBy=function(t,e){return ln(t,Ui(e,2))},_r.min=function(t){return t&&t.length?kr(t,Sc,ho):r},_r.minBy=function(t,e){return t&&t.length?kr(t,Ui(e,2),ho):r},_r.stubArray=Yc,_r.stubFalse=kc,_r.stubObject=function(){return{}},_r.stubString=function(){return""},_r.stubTrue=function(){return!0},_r.multiply=qc,_r.nth=function(t,e){return t&&t.length?yo(t,xu(e)):r},_r.noConflict=function(){return Le._===this&&(Le._=Ee),this},_r.noop=Bc,_r.now=Za,_r.pad=function(t,e,n){t=Ju(t);var r=(e=xu(e))?Sn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return di(Hn(o),n)+t+di(jn(o),n)},_r.padEnd=function(t,e,n){t=Ju(t);var r=(e=xu(e))?Sn(t):0;return e&&r<e?t+di(e-r,n):t},_r.padStart=function(t,e,n){t=Ju(t);var r=(e=xu(e))?Sn(t):0;return e&&r<e?di(e-r,n)+t:t},_r.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),qn(Ju(t).replace(wt,""),e||0)},_r.random=function(t,e,n){if(n&&"boolean"!=typeof n&&zi(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Hu(t),e===r?(e=t,t=0):e=Hu(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=$n();return Kn(t+i*(e-t+me("1e-"+((i+"").length-1))),e)}return Oo(t,e)},_r.reduce=function(t,e,n){var r=yu(t)?Ze:hn,o=arguments.length<3;return r(t,Ui(e,4),n,o,Hr)},_r.reduceRight=function(t,e,n){var r=yu(t)?tn:hn,o=arguments.length<3;return r(t,Ui(e,4),n,o,xr)},_r.repeat=function(t,e,n){return e=(n?zi(t,e,n):e===r)?1:xu(e),Io(Ju(t),e)},_r.replace=function(){var t=arguments,e=Ju(t[0]);return t.length<3?e:e.replace(t[1],t[2])},_r.result=function(t,e,n){var o=-1,i=(e=zo(e,t)).length;for(i||(i=1,t=r);++o<i;){var a=null==t?r:t[sa(e[o])];a===r&&(o=i,a=n),t=Iu(a)?a.call(t):a}return t},_r.round=$c,_r.runInContext=t,_r.sample=function(t){return(yu(t)?Cr:Po)(t)},_r.size=function(t){if(null==t)return 0;if(du(t))return Vu(t)?Sn(t):t.length;var e=ki(t);return e==z||e==tt?t.size:so(t).length},_r.snakeCase=Rc,_r.some=function(t,e,n){var o=yu(t)?en:wo;return n&&zi(t,e,n)&&(e=r),o(t,Ui(e,3))},_r.sortedIndex=function(t,e){return Vo(t,e)},_r.sortedIndexBy=function(t,e,n){return Bo(t,e,Ui(n,2))},_r.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Vo(t,e);if(r<n&&pu(t[r],e))return r}return-1},_r.sortedLastIndex=function(t,e){return Vo(t,e,!0)},_r.sortedLastIndexBy=function(t,e,n){return Bo(t,e,Ui(n,2),!0)},_r.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Vo(t,e,!0)-1;if(pu(t[n],e))return n}return-1},_r.startCase=Tc,_r.startsWith=function(t,e,n){return t=Ju(t),n=null==n?0:Br(xu(n),0,t.length),e=Go(e),t.slice(n,n+e.length)==e},_r.subtract=Xc,_r.sum=function(t){return t&&t.length?pn(t,Sc):0},_r.sumBy=function(t,e){return t&&t.length?pn(t,Ui(e,2)):0},_r.template=function(t,e,n){var o=_r.templateSettings;n&&zi(t,e,n)&&(e=r),t=Ju(t),e=zu({},e,o,mi);var i,a,u=zu({},e.imports,o.imports,mi),c=oc(u),l=gn(u,c),s=0,f=e.interpolate||zt,h="__p += '",p=ne((e.escape||zt).source+"|"+f.source+"|"+(f===Pt?Ht:zt).source+"|"+(e.evaluate||zt).source+"|$","g"),_="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Oe+"]")+"\n";t.replace(p,function(e,n,r,o,u,c){return r||(r=o),h+=t.slice(s,c).replace(qt,An),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e}),h+="';\n";var E=e.variable;E||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(yt,""):h).replace(vt,"$1").replace(dt,"$1;"),h="function("+(E||"obj")+") {\n"+(E?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Cc(function(){return Zt(c,_+"return "+h).apply(r,l)});if(g.source=h,Ou(g))throw g;return g},_r.times=function(t,e){if((t=xu(t))<1||t>D)return[];var n=B,r=Kn(t,B);e=Ui(e),t-=B;for(var o=_n(r,e);++n<t;)e(n);return o},_r.toFinite=Hu,_r.toInteger=xu,_r.toLength=Yu,_r.toLower=function(t){return Ju(t).toLowerCase()},_r.toNumber=ku,_r.toSafeInteger=function(t){return t?Br(xu(t),-D,D):0===t?t:0},_r.toString=Ju,_r.toUpper=function(t){return Ju(t).toUpperCase()},_r.trim=function(t,e,n){if((t=Ju(t))&&(n||e===r))return t.replace(Dt,"");if(!t||!(e=Go(e)))return t;var o=Ln(t),i=Ln(e);return $o(o,vn(o,i),dn(o,i)+1).join("")},_r.trimEnd=function(t,e,n){if((t=Ju(t))&&(n||e===r))return t.replace(Vt,"");if(!t||!(e=Go(e)))return t;var o=Ln(t);return $o(o,0,dn(o,Ln(e))+1).join("")},_r.trimStart=function(t,e,n){if((t=Ju(t))&&(n||e===r))return t.replace(wt,"");if(!t||!(e=Go(e)))return t;var o=Ln(t);return $o(o,vn(o,Ln(e))).join("")},_r.truncate=function(t,e){var n=C,o=P;if(mu(e)){var i="separator"in e?e.separator:i;n="length"in e?xu(e.length):n,o="omission"in e?Go(e.omission):o}var a=(t=Ju(t)).length;if(On(t)){var u=Ln(t);a=u.length}if(n>=a)return t;var c=n-Sn(o);if(c<1)return o;var l=u?$o(u,0,c).join(""):t.slice(0,c);if(i===r)return l+o;if(u&&(c+=l.length-c),Du(i)){if(t.slice(c).search(i)){var s,f=l;for(i.global||(i=ne(i.source,Ju(xt.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var h=s.index;l=l.slice(0,h===r?c:h)}}else if(t.indexOf(Go(i),c)!=c){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+o},_r.unescape=function(t){return(t=Ju(t))&&At.test(t)?t.replace(Rt,Dn):t},_r.uniqueId=function(t){var e=++fe;return Ju(t)+e},_r.upperCase=Ac,_r.upperFirst=Oc,_r.each=Ja,_r.eachRight=Wa,_r.first=da,Vc(_r,(zc={},zr(_r,function(t,e){se.call(_r.prototype,e)||(zc[e]=t)}),zc),{chain:!1}),_r.VERSION="4.17.10",Je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){_r[t].placeholder=_r}),Je(["drop","take"],function(t,e){vr.prototype[t]=function(n){n=n===r?1:Wn(xu(n),0);var o=this.__filtered__&&!e?new vr(this):this.clone();return o.__filtered__?o.__takeCount__=Kn(n,o.__takeCount__):o.__views__.push({size:Kn(n,B),type:t+(o.__dir__<0?"Right":"")}),o},vr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Je(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==b||3==n;vr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ui(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Je(["head","last"],function(t,e){var n="take"+(e?"Right":"");vr.prototype[t]=function(){return this[n](1).value()[0]}}),Je(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vr.prototype[t]=function(){return this.__filtered__?new vr(this):this[n](1)}}),vr.prototype.compact=function(){return this.filter(Sc)},vr.prototype.find=function(t){return this.filter(t).head()},vr.prototype.findLast=function(t){return this.reverse().find(t)},vr.prototype.invokeMap=Co(function(t,e){return"function"==typeof t?new vr(this):this.map(function(n){return oo(n,t,e)})}),vr.prototype.reject=function(t){return this.filter(cu(Ui(t)))},vr.prototype.slice=function(t,e){t=xu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=xu(e))<0?n.dropRight(-e):n.take(e-t)),n)},vr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vr.prototype.toArray=function(){return this.take(B)},zr(vr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=_r[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);i&&(_r.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,c=e instanceof vr,l=u[0],s=c||yu(e),f=function(t){var e=i.apply(_r,Qe([t],u));return o&&h?e[0]:e};s&&n&&"function"==typeof l&&1!=l.length&&(c=s=!1);var h=this.__chain__,p=!!this.__actions__.length,_=a&&!h,E=c&&!p;if(!a&&s){e=E?e:new vr(this);var g=t.apply(e,u);return g.__actions__.push({func:Ha,args:[f],thisArg:r}),new yr(g,h)}return _&&E?t.apply(this,u):(g=this.thru(f),_?o?g.value()[0]:g.value():g)})}),Je(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);_r.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(yu(o)?o:[],t)}return this[n](function(n){return e.apply(yu(n)?n:[],t)})}}),zr(vr.prototype,function(t,e){var n=_r[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[Ei(r,g).name]=[{name:"wrapper",func:r}],vr.prototype.clone=function(){var t=new vr(this.__wrapped__);return t.__actions__=oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=oi(this.__views__),t},vr.prototype.reverse=function(){if(this.__filtered__){var t=new vr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=yu(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Kn(e,t+a);break;case"takeRight":t=Wn(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,u=i.end,c=u-a,l=r?u:a-1,s=this.__iteratees__,f=s.length,h=0,p=Kn(c,this.__takeCount__);if(!n||!r&&o==c&&p==c)return ko(t,this.__actions__);var _=[];t:for(;c--&&h<p;){for(var E=-1,g=t[l+=e];++E<f;){var y=s[E],v=y.iteratee,d=y.type,R=v(g);if(d==S)g=R;else if(!R){if(d==b)continue t;break t}}_[h++]=g}return _},_r.prototype.at=xa,_r.prototype.chain=function(){return ja(this)},_r.prototype.commit=function(){return new yr(this.value(),this.__chain__)},_r.prototype.next=function(){this.__values__===r&&(this.__values__=ju(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},_r.prototype.plant=function(t){for(var e,n=this;n instanceof gr;){var o=ha(n);o.__index__=0,o.__values__=r,e?i.__wrapped__=o:e=o;var i=o;n=n.__wrapped__}return i.__wrapped__=t,e},_r.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vr){var e=t;return this.__actions__.length&&(e=new vr(this)),(e=e.reverse()).__actions__.push({func:Ha,args:[ma],thisArg:r}),new yr(e,this.__chain__)}return this.thru(ma)},_r.prototype.toJSON=_r.prototype.valueOf=_r.prototype.value=function(){return ko(this.__wrapped__,this.__actions__)},_r.prototype.first=_r.prototype.head,fn&&(_r.prototype[fn]=function(){return this}),_r}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Le._=wn,define(function(){return wn})):we?((we.exports=wn)._=wn,De._=wn):Le._=wn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,o){this.cardID=t,this.cardContent=e,this.actionType=n,this.actionPrimary=r,this.actionSecondary=o}return t.prototype.getCardContent=function(){return this},t}();n.Card=r},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash"),o=t("./Players"),i=t("./Cells"),a=t("./Rules"),u=t("./Dice"),c=function(){function t(e){this.isOwnable=null,this.groupID=null,this.currentOwner=null,this.baseValue=null,this.mortgageValue=null,this.mortgageState=null,this.improvemntState=null,this.houseValue=null,this.hotelValue=null,this.rent=[],this.houseCount=null,this.hotelCount=null,this.actionPrimary=null,this.actionSecondary=null,this.name=e.name,this.location=e.location,this.type=e.type,this.color=e.color,"PROPERTY"==this.type&&(this.groupID=e.groupID,t.PROPERTY_ID_BY_NAME[e.name]="s",this.isOwnable=!0,this.baseValue=e.baseValue,this.mortgageValue=e.mortgageValue,this.rent=e.rent,this.houseValue=e.houseValue,this.hotelValue=e.hotelValue),"RAILROAD"==this.type&&(this.groupID="r",t.PROPERTY_ID_BY_NAME[e.name]="r",this.baseValue=e.baseValue,this.isOwnable=!0,this.mortgageValue=e.mortgageValue,this.mortgageState=!1,this.rent=e.rent),"UTILITY"==this.type&&(this.groupID="u",t.PROPERTY_ID_BY_NAME[e.name]="u",this.baseValue=e.baseValue,this.isOwnable=!0,this.mortgageValue=e.mortgageValue,this.mortgageState=!1,this.rent=e.rent),"SPECIAL"==this.type&&(this.groupID="s",t.PROPERTY_ID_BY_NAME[e.name]="s",this.isOwnable=!1,this.actionPrimary=e.actionPrimary,this.actionSecondary=e.actionSecondary),"JAIL"==this.type&&(this.isOwnable=!1)}return t.prototype.setOwnership=function(t){this.currentOwner=t,i.Cells.CELL_OWNERSHIP[this]=t},t.prototype.isMortgageActionValid=function(t){var e=!1;switch(t){case"mortgage":this.isOwnable?this.mortgageState?console.log("\tThis property is already mortgaged"):this.houseCount>0||1==this.hotelCount?console.log("\tImproved properties cannot be mortgaged"):e=!0:console.log("\tThis type of cell ("+this.type+") is not ownable and so cannot be mortgaged");break;case"unmortgage":this.isOwnable?(a.Rules.PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED&&o.Players.get(this.currentOwner).cash<this.mortgageValue+this.mortgageValue/a.Rules.PROPERTY_MORTGAGE_INTEREST_RATE_VALUE||!a.Rules.PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED&&o.Players.get(this.currentOwner).cash<this.mortgageValue)&&console.log("\tInsufficient funds avaliable to unmortgage this property"):console.log("\tThis property is not mortgaged")}return e},t.prototype.mortgageProperty=function(){this.isMortgageActionValid("mortgage")&&(this.mortgageState=!0,console.log("\t"+o.Players.get(this.currentOwner).name+" mortgages "+this.name+" for "+this.mortgageValue),o.Players.get(this.currentOwner).playerCashReceive(-1,this.mortgageValue))},t.prototype.unmortgageProperty=function(){if(this.isMortgageActionValid("unmortgage")){var t=a.Rules.PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED?this.mortgageValue+this.mortgageValue/a.Rules.PROPERTY_MORTGAGE_INTEREST_RATE_VALUE:this.mortgageValue;this.mortgageState=!1,console.log("\t"+o.Players.get(this.currentOwner).name+" unmortgages "+this.name+" for "+t),o.Players.get(this.currentOwner).playerCashPay(-1,t)}},t.prototype.getOwningPlayerOwnership=function(){if(null==this.currentOwner)throw new Error("Cell "+this.location+": "+this.name+" has no current owner ("+this.currentOwner+")");return o.Players.PLAYERS[this.currentOwner].getOwnership()},t.prototype.getOwningPlayerGroupID=function(){return this.getOwningPlayerOwnership().map(function(t){return t.groupID})},t.prototype.getOwningPlayerGroupFrequency=function(){return this.getOwningPlayerGroupID()[this.groupID]},t.prototype.getGroupFrequency=function(){return i.Cells.PROPERTY_GROUP_SET[this.groupID].length},t.prototype.getPropertyGroupMembers=function(){return Array(Object.Values(i.Cells.PROPERTY_GROUP_SET[this.groupID]))},t.prototype.memberGroupMortgageCount=function(){return this.getPropertyGroupMembers().filter(function(t){return 1==t.mortgageState}).length},t.prototype.getCurrentRent=function(){var t=0;if(this.mortgageState)console.log("\tRent cannot be collected on mortgaged properties");else switch(this.type){case"PROPERTY":t=1==this.hotelCount?r.last(this.rent):0==this.houseCount?this.isSetComplete()&&0==this.memberGroupMortgageCount()?r.first(this.rent)*a.Rules.GROUP_COMPLETION_RENT_BONUS_VALUE:r.first(this.rent):this.rent[this.houseCount];break;case"RAILROAD":var e=this.getOwningPlayerGroupFrequency();e>0&&(t=this.rent[e-1]);break;case"UTILITY":var n=this.getOwningPlayerGroupFrequency();n>0&&(t=this.rent[n-1]*u.Dice.value)}return t},t.prototype.queryCellRent=function(t){var e=0;switch(this.type){case"PROPERTY":e=0==t?this.isSetComplete()?r.first(this.rent)*a.Rules.GROUP_COMPLETION_RENT_BONUS_VALUE:this.rent[0]:this.rent[t];break;case"RAILROAD":e=t-1<this.rent.length?this.rent[t-1]:r.last(this.rent)}return e},t.prototype.isSetComplete=function(){return this.getOwningPlayerGroupFrequency()==this.getGroupFrequency()},t.prototype.addImprovementsValid=function(){var t=!1,e=this.houseCount<a.Rules.PROPERTY_HOTEL_REQ?this.houseValue:this.hotelValue,n=a.Rules.PROPERTY_EVEN_BUILD_ENABLED?e*this.getOwningPlayerGroupFrequency():e;return this.isSetComplete()?"PROPERTY"!=this.type?console.log("\tThis cell type ("+this.type+") cannot be improved"):this.mortgageState?console.log("\tCannot improve mortgaged property"):1==this.hotelCount?a.Rules.IMPROVEMENT_RESOURCES_FINITE&&0==a.Rules.PROPERTY_HOTEL_REQ?console.log("\tCannot improve property beyond 1 Hotel (and there are also no hotels avaliable)"):console.log("\tCannot improve property beyond 1 Hotel"):a.Rules.IMPROVEMENT_RESOURCES_FINITE&&0==a.Rules.IMPROVEMENT_AMOUNT_HOTEL&&0==this.hotelCount&&this.houseCount<a.Rules.PROPERTY_HOTEL_REQ?console.log("\tP  roperty eligible for improvement but there are no houses avaliable to purchace"):a.Rules.IMPROVEMENT_RESOURCES_FINITE&&0==a.Rules.IMPROVEMENT_AMOUNT_HOTEL&&0==this.hotelCount&&this.houseCount==a.Rules.PROPERTY_HOTEL_REQ?console.log("\tProperty eligible for improvement but there are no hotels avaliable to purchace"):o.Players.get(this.currentOwner).cash<n?console.log("\t"+o.Players.get(this.currentOwner).name+" cannot afford this improvement (cost: "+n+" - cash: "+o.Players.get(this.currentOwner).cash+")"):t=!0:console.log("\tCannot improve properties belonging to incomplete sets"),t},t.prototype.addImprovement=function(){this.addImprovementsValid()&&this.houseCount<a.Rules.PROPERTY_HOTEL_REQ?(this.houseCount++,a.Rules.IMPROVEMENT_RESOURCES_FINITE&&a.Rules.IMPROVEMENT_AMOUNT_HOUSE--,o.Players.get(this.currentOwner).playerCashPay(-1,this.houseValue),console.log("\t"+o.Players.get(this.currentOwner).name+" builds a house on "+name+" - New Rent: "+this.getCurrentRent()+" - Houses left: "+a.Rules.IMPROVEMENT_AMOUNT_HOUSE)):this.addImprovementsValid()&&this.houseCount==a.Rules.PROPERTY_HOTEL_REQ&&(this.houseCount=0,a.Rules.IMPROVEMENT_AMOUNT_HOUSE+=a.Rules.PROPERTY_HOTEL_REQ,this.hotelCount=1,a.Rules.IMPROVEMENT_AMOUNT_HOTEL--,o.Players.get(this.currentOwner).playerCashPay(-1,this.hotelValue),console.log("\t"+o.Players.get(this.currentOwner).name+" builds a hotel on "+name+" - New Rent: "+this.getCurrentRent()),this.improvemntState++)},t.prototype.removeImprovementsValid=function(){var t=!1;return 0==this.houseCount&&0==this.hotelCount?console.log("\tCannot remove improvements from unimproved property"):a.Rules.IMPROVEMENT_RESOURCES_FINITE?1==this.hotelCount&&(a.Rules.PROPERTY_EVEN_BUILD_ENABLED&&this.getOwningPlayerGroupFrequency()*a.Rules.PROPERTY_HOTEL_REQ>a.Rules.IMPROVEMENT_AMOUNT_HOUSE||!a.Rules.PROPERTY_EVEN_BUILD_ENABLED&&a.Rules.PROPERTY_HOTEL_REQ>a.Rules.IMPROVEMENT_AMOUNT_HOUSE)&&console.log("\tInsufficient amount of houses avaliable to downgrade from hotel"):t=!0,t},t.prototype.removeImprovements=function(){this.removeImprovementsValid()&&(0==this.hotelCount?(this.houseCount--,a.Rules.IMPROVEMENT_AMOUNT_HOUSE--,o.Players.get(this.currentOwner).playerCashReceive(-1,this.houseValue/a.Rules.IMPROVEMENT_RESALE_PENALTY)):(this.hotelCount=0,this.houseCount=a.Rules.PROPERTY_HOTEL_REQ,a.Rules.IMPROVEMENT_AMOUNT_HOUSE-=a.Rules.PROPERTY_HOTEL_REQ,a.Rules.IMPROVEMENT_AMOUNT_HOTEL++,o.Players.get(this.currentOwner).playerCashReceive(-1,this.hotelValue/a.Rules.IMPROVEMENT_RESALE_PENALTY)))},t.PLAYER_OWNERSHIP={},t.PROPERTY_ID_BY_NAME={},t}();n.Cell=c},{"./Cells":7,"./Dice":10,"./Players":14,"./Rules":15,lodash:4}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash"),o=t("./Rules"),i=t("./enums"),a=t("./Cell"),u=function(){function t(e){t.add({type:i.CellType.SPECIAL,location:0,name:"In Jail",color:"Gray",actionPrimary:null,actionSecondary:null},0);var n=o.Rules.GO_LANDING_BONUS_ENABLED?o.Rules.GO_LANDING_BONUS_VALUE+o.Rules.PASS_GO_CREDIT:o.Rules.PASS_GO_CREDIT;t.add({type:i.CellType.SPECIAL,location:1,name:"GO",color:"Gray",actionPrimary:"creditAbs",actionSecondary:n},1),e.map(function(e){return t.add(e,e.location)}),t._jailExitLocation=r.findIndex(Object.keys(t.LOCATIONS).map(function(e){return t.LOCATIONS[e]}),function(t){return"Visiting Jail"==t.name})}return t.add=function(e,n){null==n&&(n=Object.keys(t.LOCATIONS).length);var r=new a.Cell(e);if(t.LOCATIONS[n]=r,null==t.PROPERTY_GROUP_SET[r.groupID])t.PROPERTY_GROUP_SET[r.groupID]=[r];else try{t.PROPERTY_GROUP_SET[r.groupID].push(r)}catch(t){console.log(t),console.log(r)}},t.get=function(e){return t.LOCATIONS[e]},Object.defineProperty(t,"jailExitLocation",{get:function(){return this._jailExitLocation},enumerable:!0,configurable:!0}),t.LOCATIONS={},t.PROPERTY_GROUP_SET={},t.CELL_OWNERSHIP={},t}();n.Cells=u},{"./Cell":6,"./Rules":15,"./enums":16,lodash:4}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash"),o=t("./Card"),i=function(){function t(e){var n=this;e.filter(function(t){return"CHANCE"==t.type}).map(function(t){return n.add(t.cardID,t.cardContent,t.actionType,t.actionPrimary,t.actionSecondary)}),t.shuffleDeck()}return t.prototype.add=function(e,n,r,i,a){t.CHANCE_CARD_LIB.push(new o.Card(e,n,r,i,a))},t.shuffleDeck=function(){t.CHANCE_CARD_DECK=r.shuffle(t.CHANCE_CARD_LIB)},t.getNextCard=function(){return t.CHANCE_CARD_DECK.shift()},t.readNextCard=function(){return r.head(t.CHANCE_CARD_DECK)},t.drawCard=function(){null==t.getNextCard()&&t.shuffleDeck();var e=t.CHANCE_CARD_DECK.shift();return"JAIL"==e.actionType&&"OUT"==e.actionPrimary&&(t.JAIL_BONDS.push(e),t.CHANCE_CARD_LIB.splice(r.findIndex(t.CHANCE_CARD_LIB,function(t){return t==e}),1)),e},t.reinsertJailBond=function(){t.CHANCE_CARD_DECK.push(r.head(t.JAIL_BONDS))},t.CHANCE_CARD_LIB=[],t.CHANCE_CARD_DECK=[],t.JAIL_BONDS=[],t}();n.ChanceCards=i},{"./Card":5,lodash:4}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash"),o=t("./Card"),i=function(){function t(e){var n=this;e.filter(function(t){return"CHANCE"==t.type}).map(function(t){return n.add(t.cardID,t.cardContent,t.actionType,t.actionPrimary,t.actionSecondary)}),t.shuffleDeck()}return t.prototype.add=function(e,n,r,i,a){t.CHEST_CARD_LIB.push(new o.Card(e,n,r,i,a))},t.shuffleDeck=function(){t.CHANCE_CARD_LIB=r.shuffle(t.CHEST_CARD_LIB)},t.getNextCard=function(){return t.CHANCE_CARD_LIB.shift()},t.readNextCard=function(){return r.head(t.CHANCE_CARD_LIB)},t.drawCard=function(){null==t.getNextCard()&&t.shuffleDeck();var e=t.CHANCE_CARD_LIB.shift();return"JAIL"==e.actionType&&"OUT"==e.actionPrimary&&(t.JAIL_BONDS.push(e),t.CHEST_CARD_LIB.splice(r.findIndex(t.CHEST_CARD_LIB,function(t){return t==e}),1)),e},t.reinsertJailBond=function(){t.CHANCE_CARD_LIB.push(r.head(t.JAIL_BONDS))},t.CHEST_CARD_LIB=[],t.CHANCE_CARD_LIB=[],t.JAIL_BONDS=[],t}();n.ChestCards=i},{"./Card":5,lodash:4}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash");t("lodash.combinations");var o=function(){function t(t){this.sides=t}return t.prototype.rollDie=function(){var t=this.sides;return Math.floor(Math.random()*(t-1+1))+1},t}(),i=function(){function t(e){e.map(function(e){return t._dice.push(new o(e))}),t._value=null,t._faces=null,t._allEqual=null,t._rollProb=null;var n,i=t._dice.map(function(t){return t.sides}),a=0,u=r.times(i.length,r.constant(0)),c=[];function l(){for(var t=[],e=0;e<i.length;e++)t[e]=1;for(var n=0;n<t.length-1;n++)u[n]<i[n]&&(t[n]+=u[n]);for(c.push(t.toString());r.last(t)<r.last(i);)t[i.length-1]+=1,c.push(t.toString());a++,function t(e){e>0&&a%Math.pow(i[e],i.length-1-e)==0&&t(e-1),u[e]==i[e]?u[e]=1:u[e]++}(i.length-1)}for(;!r.isEqual(u,i);)l();n=c.map(function(t){return JSON.parse("["+t+"]")}).map(function(t){return t.reduce(function(t,e){return t+e})});var s=r.countBy(n),f=Object.keys(s).map(function(t){return s[t]});t._rollProb=r.zipObject(Object.keys(s).map(function(t){return parseInt(t)}),f.map(function(t){return t/f.reduce(function(t,e){return t+e})*100})),t.roll()}return Object.defineProperty(t,"faces",{get:function(){return t._faces},enumerable:!0,configurable:!0}),Object.defineProperty(t,"value",{get:function(){return t._value},enumerable:!0,configurable:!0}),t.roll=function(){return t._faces=t._dice.map(function(t){return t.rollDie()}),t._value=t._faces.reduce(function(t,e){return t+e}),t._dice.length>1?t._allEqual=t._faces.every(function(e){return e===t._faces[0]}):t._allEqual=!1,t._value},Object.defineProperty(t,"allEqual",{get:function(){return t._allEqual},enumerable:!0,configurable:!0}),Object.defineProperty(t,"rollProb",{get:function(){return t._rollProb},enumerable:!0,configurable:!0}),t._dice=[],t._rollProb={},t}();n.Dice=i},{lodash:4,"lodash.combinations":3}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.logPlayerTurn=function(t){this._GAME_LOG.push(t)},Object.defineProperty(t,"GAME_LOG",{get:function(){return this._GAME_LOG},enumerable:!0,configurable:!0}),Object.defineProperty(t,"logCounter",{get:function(){return this._logCounter},enumerable:!0,configurable:!0}),t.incLogCounter=function(){this._logCounter++},t._GAME_LOG=[],t._logCounter=0,t}();n.GameLog=r},{}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Dice"),o=t("./Players"),i=t("./enums"),a=t("./Cells"),u=t("./GameLog"),c=function(){function t(t,e,n){this.LOCATIONS={},this.PLAYERS={},this.DICE_VALUES=[],this.actionParameters=[],this.description=null,this.LOCATIONS=a.Cells.LOCATIONS,this.PLAYERS=o.Players.PLAYERS,this.DICE_VALUES=r.Dice.faces,this.PLAYER_ID=t,this.EVENT_TYPE=e,this.actionParameters=n,this.PLAYER_NAME=o.Players.get(t).name,this.position=o.Players.get(t).position,e==i.EventType.START&&u.GameLog.incLogCounter(),this.logCount=u.GameLog.logCounter,this.card=o.Players.get(t).currentCard,this.cash=o.Players.get(t).cash}return t.prototype.parse=function(){var t=null;switch(this.EVENT_TYPE){case i.EventType.START:t=this.logCount.toString();break;case i.EventType.END:t="ends turn on "+this.LOCATIONS[this.position].name;break;case i.EventType.PLAYER:t=this.PLAYER_NAME+" begins turn on "+this.LOCATIONS[this.position].name;break;case i.EventType.INITIAL_LOCATION:case i.EventType.INTERMEDIATE_LOCATION:case i.EventType.FINAL_LOCATION:t=this.LOCATIONS[this.actionParameters[0]].name;break;case i.EventType.ROLL_DICE:t=r.Dice.allEqual?"rolls dice and gets doubles! - "+this.DICE_VALUES:"rolls dice - "+this.DICE_VALUES;break;case i.EventType.ADVANCE:var e=void 0;switch(this.actionParameters.length){case 4:e="moves "+this.actionParameters[0]+" steps and lands on "+this.LOCATIONS[this.actionParameters[1]].name+" - Owned by: "+this.PLAYERS[this.actionParameters[2]].name+", Rent: "+this.actionParameters[3];break;case 3:e="moves "+this.actionParameters[0]+" steps and lands on "+this.LOCATIONS[this.actionParameters[1]].name+" - Avaliable to purchace for "+this.actionParameters[2];break;default:e="moves "+this.actionParameters[0]+" spaces and lands on "+this.LOCATIONS[this.actionParameters[1]].name}t=e;break;case i.EventType.JUMP:t="moves to "+this.LOCATIONS[this.actionParameters[0]].name;break;case i.EventType.JUMP_NEXT:t="moves to next "+this.LOCATIONS[this.actionParameters[0]].type+" ("+this.LOCATIONS[this.actionParameters[0]].name+")";break;case i.EventType.PURCHACE:t="purchaces "+this.LOCATIONS[this.actionParameters[0]].name+" for "+this.actionParameters[1];break;case i.EventType.HOUSE_ADD:t="builds house on"+this.LOCATIONS[this.actionParameters[0]].name+" - New Rent: "+this.actionParameters[1]+" - Houses Left: "+this.actionParameters[2];break;case i.EventType.HOTEL_ADD:t="builds hotel on"+this.LOCATIONS[this.actionParameters[0]].name+" - New Rent: "+this.actionParameters[1]+" - Hotels Left: "+this.actionParameters[2];break;case i.EventType.PAY:var n,o=void 0;switch(this.actionParameters[1]){case 0:o="BANK";break;case-1:o="FREE PARKING";break;default:o=this.PLAYERS[this.actionParameters[1]].name}n=o,t="pays "+this.actionParameters[0]+" to "+n+" - Bal: "+this.cash;break;case i.EventType.RECEIVE:var a,u=void 0;switch(this.actionParameters[1]){case 0:u="BANK";break;case-1:u="FREE PARKING";break;default:u=this.PLAYERS[this.actionParameters[1]].name}a=u,t="is paid "+this.actionParameters[0]+" by "+a+" - Bal: "+this.cash;break;case i.EventType.DRAW_CHEST:t="draws a COMMUNITY CHEST card: "+this.card.cardContent;break;case i.EventType.DRAW_CHANCE:t="draws a CHANCE card: "+this.card.cardContent;break;case i.EventType.NOTIFICATION:t=this.description}return t},t.prototype.getEventActionKeyword=function(){return this.EVENT_TYPE},t.prototype.getEventActionParameters=function(){return this.actionParameters},t}(),l=function(){function t(t){this.LOG_EVENTS=[],this.playerID=t}return t.prototype.logEvent=function(t,e){this.LOG_EVENTS.push(new c(this.playerID,t,e))},t.prototype.parseLogEntry=function(){return this.LOG_EVENTS.map(function(t){return t.parse()})},t}();n.LogEntry=l},{"./Cells":7,"./Dice":10,"./GameLog":11,"./Players":14,"./enums":16}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./GameLog"),o=t("./ChestCards"),i=t("./ChanceCards"),a=t("lodash"),u=t("./Players"),c=t("./enums"),l=t("./Rules"),s=t("./Cells"),f=t("./Dice"),h=t("./LogEntry"),p=function(){function t(t,e,n){this._ID=t,this._name=e,this._token=n,this._position=1,this._cash=l.Rules.INITIAL_PLAYER_CASH}return Object.defineProperty(t.prototype,"ID",{get:function(){return this._ID},set:function(t){this._ID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this._token},set:function(t){this._token=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cash",{set:function(t){this._cash=t},enumerable:!0,configurable:!0}),t.prototype.getCurrentCell=function(){return s.Cells.get(this._position)},t.prototype.get_positionType=function(){return this.getCurrentCell().type},t.prototype.getActionType=function(){return this.getCurrentCell().actionPrimary},t.prototype.getActionParamater=function(){return this.getCurrentCell().actionSecondary},t.prototype.get_positionName=function(){return this.getCurrentCell().name},t.prototype.getCellName=function(t){return s.Cells.get(t).name},t.prototype.getBondsAvaliable=function(){return this._jailBondsAvaliableChance+this._jailBondsAvaliableChest},Object.defineProperty(t.prototype,"inJail",{get:function(){return this._inJail},set:function(t){this._inJail=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jailTimeSpent",{get:function(){return this._jailTimeSpent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speedingCount",{get:function(){return this._speedingCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentCard",{get:function(){return this._currentCard},enumerable:!0,configurable:!0}),t.prototype.playerCashReceive=function(t,e){if(t>=0){var n=u.Players.get(t);this._cash+=e,n.cash-=e}else this._cash+=e},t.prototype.playerCashPay=function(t,e){if(t>=0){var n=u.Players.get(t);this._cash-=e,n.cash+=e}else this._cash-=e},t.prototype.setOwnership=function(t){var e=s.Cells.get(t);e.setOwnership(this._ID),s.Cells.CELL_OWNERSHIP[e]=this._ID},t.prototype.getOwnership=function(){var t=a.pickBy(s.Cells.CELL_OWNERSHIP,function(t,e){return a.startsWith(t,this._ID)});return Object.values(t)},t.prototype.getCompleteSets=function(){return a.groupBy(this.getOwnership().filter(function(t){return t.isSetComplete()}),function(t){t.groupID})},t.prototype.getPropertyGroupMembers=function(t){return this.getOwnership().filter(function(e){return e.groupID==t})},t.prototype.getCompleteSetID=function(){return a.uniq(Object.keys(this.getCompleteSets()))},t.prototype.addPropertyImprovementByGroup=function(t){this.getPropertyGroupMembers(t).map(function(t){return t.addImprovement()})},t.prototype.getOwnedPropertyImprovementValue=function(){return this.getOwnership().map(function(t){return function(t){return 0==t.getHotelCount()?0==t.getHouseCount()?0:t.hotelCount*t.houseValue*(1/l.Rules.IMPROVEMENT_RESALE_PENALTY):(l.Rules.PROPERTY_HOTEL_REQ*t.houseValue+t.hotelValue)*(1/l.Rules.IMPROVEMENT_RESALE_PENALTY)}}).reduce(function(t,e){return t+e})},t.prototype.getOwnedPropertyBaseValue=function(){return this.getOwnership().map(function(t){return t.mortgageValue}).reduce(function(t,e){return t+e})},t.prototype.getOwnedPropertyNetValue=function(){return this.getOwnedPropertyBaseValue()+this.getOwnedPropertyImprovementValue()},t.prototype.getPlayerNetWorth=function(){return this.cash+this.getOwnedPropertyNetValue()},t.prototype.mortgageProperty=function(t){s.Cells.get(t).mortgageProperty()},t.prototype.unMortgageProperty=function(t){s.Cells.get(t).unmortgageProperty()},t.prototype.getCellType=function(t){return s.Cells.LOCATIONS[t].type},t.prototype.gotoJail=function(){this._inJail=!0,this._position=0},t.prototype.leaveJail=function(){this._inJail=!1,this._position=s.Cells.jailExitLocation,this._jailTimeSpent=0,this._exitingJail=!0},t.prototype.exitingJail=function(){return this._exitingJail},t.prototype.findNextCellType=function(t){for(var e=this._position,n=this.getCellType(e);n!=t;){for(e++;e>40;)e-=Object.keys(s.Cells.LOCATIONS).length-1;n=this.getCellType(e)}return e},t.prototype.cashSignificance=function(t){var e=0,n=t/this._cash*100;return n>=10&&n<20?e=1:n>=20&&n<40?e=2:n>40&&(e=3),e},t.prototype.cellBenefit=function(t){var e=0;if(t.isOwnable)if(null==t.isOwnable){e+=2;var n=t.groupID;this.getOwnership().filter(function(t){return t.groupID==n})}else{var r=t.getCurrentRent();e-=this.cashSignificance(r)}else switch(t.actionPrimary){case"drawCard":"chest"==t.actionSecondary?e++:e--;break;case"debitAbs":case"debitRel":e-=this.cashSignificance(t.actionSecondary);break;case"creditAbs":case"creditRel":e+=this.cashSignificance(t.actionSecondary);break;case"parking":e++,l.Rules.FREE_PARKING_BONUS_ENABLED&&(e+=this.cashSignificance(l.Rules.FREE_PARKING_BONUS_VALUE));break;case"transitionAbs":"0"==t.actionSecondary?e--:e=this.cellBenefit(t.actionSecondary);break;case"transitionRel":var o=t.location+t.actionSecondary,i=s.Cells.get(o);e=this.cellBenefit(i)}return e},t.prototype.leaveJailEarly=function(){var t=!1,e=s.Cells.jailExitLocation,n=0,r=0,o=Object.keys(f.Dice.rollProb);for(var i in o){var a=s.Cells.get(e+parseInt(i)),u=this.cellBenefit(a);u>0?n+=u*f.Dice.rollProb[i]:r+=u*f.Dice.rollProb[i]}return n>r&&(t=!0),t},t.prototype.initializeTurn=function(){this._logEntry=new h.LogEntry(this.ID),this._logEntry.logEvent(c.EventType.START,null)},t.prototype.beginTurn=function(){var t=f.Dice.roll();this.inJail&&this.jailTimeSpent<l.Rules.MAX_JAIL_TERM_VALUE?(this._jailBondsAvaliableChance>0?(i.ChanceCards.reinsertJailBond(),this._jailBondsAvaliableChance--):this._jailBondsAvaliableChest>0&&(o.ChestCards.reinsertJailBond(),this._jailBondsAvaliableChest--),f.Dice.allEqual?(this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" rolls doubles - ["+f.Dice.faces.toString()+"] - and gets to leave jail early!"]),this.leaveJail(),this.advanceToken(t)):(this._jailTimeSpent++,this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" fails to roll doubles ["+f.Dice.faces.toString()+"] and spends another turn in jail (turns until release: "+(l.Rules.MAX_JAIL_TERM_VALUE-this.jailTimeSpent)+")"]))):this.inJail&&this.jailTimeSpent==l.Rules.MAX_JAIL_TERM_VALUE?f.Dice.allEqual?(this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" rolls doubles ["+f.Dice.faces.toString()+"] and gets to leave jail early!"]),this.leaveJail(),this.advanceToken(t)):(this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" has failed to roll doubles ["+f.Dice.faces.toString()+"] and has thus served the maximum jail term."]),this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" pays the fine"]),this.playerCashPay(-1,l.Rules.LEAVE_JAIL_FEE_VALUE),this.leaveJail(),this.advanceToken(t)):(this._logEntry.logEvent(c.EventType.ROLL_DICE,[]),f.Dice.allEqual&&this._speedingCount++,this._speedingCount==l.Rules.DOUBLES_SPEEDING_LIMIT?(this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" sent to jail for speeding"]),this.gotoJail()):this.advanceToken(t))},t.prototype.midTurn=function(){if(s.Cells.get(this.position).type==c.CellType.SPECIAL){var t=s.Cells.get(this.position).actionPrimary,e=s.Cells.get(this.position).actionSecondary,n=null;switch(t){case"drawCard":switch(e){case"chance":n=i.ChanceCards.drawCard();break;case"chest":n=o.ChestCards.drawCard()}this.parseCardAction(n);break;case"transitionAbs":"0"==e?this.gotoJail():this.advanceToken(parseInt(e));break;case"creditAbs":this.playerCashReceive(-1,parseInt(e));break;case"debitAbs":l.Rules.FREE_PARKING_BONUS_ENABLED?l.Rules.increment__FREE_PARKING_BONUS_VALUE(parseInt(e)):this.playerCashPay(-1,parseInt(e));break;case"parking":l.Rules.FREE_PARKING_BONUS_ENABLED&&(this.playerCashReceive(-1,l.Rules.FREE_PARKING_BONUS_VALUE),l.Rules.clear_FREE_PARKING_BONUS_VALUE)}}else{var r=s.Cells.get(this.position);r.isOwnable&&(null==r.currentOwner?(this.cash-=r.baseValue,r.setOwnership(this.ID),this._logEntry.logEvent(c.EventType.PURCHACE,[this._position,r.baseValue])):r.currentOwner==this.ID||(this.get_positionType(),c.CellType.UTILITY,this.playerCashPay(r.currentOwner,r.getCurrentRent())))}!f.Dice.allEqual||this.inJail||this._exitingJail||this._logEntry.logEvent(c.EventType.NOTIFICATION,[this.name+" takes another turn"])},t.prototype.endTurn=function(){this._logEntry.logEvent(c.EventType.END,[]),this._speedingCount=0,this._exitingJail=!1,r.GameLog.logPlayerTurn(this._logEntry)},t.prototype.advanceToken=function(t){this.position+=t,this.position>Object.keys(s.Cells.LOCATIONS).length?(this.position-=Object.keys(s.Cells.LOCATIONS).length,1!=this.position&&(this._logEntry.logEvent(c.EventType.NOTIFICATION,[" passes GO"]),this.playerCashReceive(-1,l.Rules.PASS_GO_CREDIT))):this.position<1&&(this.position+=Object.keys(s.Cells.LOCATIONS).length);var e=s.Cells.get(this.position).currentOwner;if(s.Cells.get(this.position).isOwnable)if(null!=e){var n=s.Cells.get(this.position).getCurrentRent();this._logEntry.logEvent(c.EventType.ADVANCE,[t,this.position,u.Players.get(e).ID,n])}else{var r=s.Cells.get(this.position).baseValue;this._logEntry.logEvent(c.EventType.ADVANCE,[t,this.position,r])}else this._logEntry.logEvent(c.EventType.ADVANCE,[t,this.position])},t.prototype.drawChanceCard=function(){var t=i.ChanceCards.drawCard();return this._logEntry.logEvent(c.EventType.DRAW_CHANCE,[]),t},t.prototype.drawChestCard=function(){var t=o.ChestCards.drawCard();return this._logEntry.logEvent(c.EventType.DRAW_CHEST,[]),t},t.prototype.parseCardAction=function(t){var e=t.actionType,n=t.actionPrimary,r=t.actionSecondary;switch(e){case"TRANSITION_ABS":return this._position=parseInt(n),void this.midTurn();case"TRANSITION_REL":switch(n){case"NEXT":return this.position=this.findNextCellType(r),this._logEntry.logEvent(c.EventType.JUMP_NEXT,[this.findNextCellType(r)]),void this.midTurn();case"GO":return this.advanceToken(parseInt(r)),void this.midTurn()}return;case"JAIL":switch(n){case"IN":return void this.gotoJail();case"OUT":return}return;case"CREDIT_ABS":return void this.playerCashReceive(-1,parseInt(n));case"CREDIT_REL":return;case"DEBIT_ABS":return void(l.Rules.FREE_PARKING_BONUS_ENABLED?(l.Rules.increment__FREE_PARKING_BONUS_VALUE(parseInt(n)),this._logEntry.logEvent(c.EventType.NOTIFICATION,["pays "+n+" into Free Parking."]),this.playerCashPay(-1,parseInt(n))):(this.playerCashPay(-1,parseInt(n)),this._logEntry.logEvent(c.EventType.NOTIFICATION,["pays "+n+" to bank."])));case"DEBIT_REL":switch(n){case"PAY_EACH":for(var o=0;o<u.Players.amount();o++)this.ID==o||this.playerCashPay(o,parseInt(r))}}},t}();n.Player=p},{"./Cells":7,"./ChanceCards":8,"./ChestCards":9,"./Dice":10,"./GameLog":11,"./LogEntry":12,"./Players":14,"./Rules":15,"./enums":16,lodash:4}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash"),o=t("./Player"),i=t("./enums"),a=function(){function t(){}return t.add=function(e,n){var r=t.amount(),i=0==r?0:r+1;t._PLAYERS[i]=new o.Player(i,e,n)},t.get=function(e){return t._PLAYERS[e]},t.amount=function(){return Object.keys(t._PLAYERS).length},Object.defineProperty(t,"PLAYERS",{get:function(){return t._PLAYERS},enumerable:!0,configurable:!0}),t.prototype.getAvaliableTokens=function(){var e=Object.Values(t.PLAYERS).map(function(t){return t.token()}),n=Object.keys(i.Token);return r.difference(n,e)},t._PLAYERS={},t}();n.Players=a},{"./Player":13,"./enums":16,lodash:4}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t,"INITIAL_PLAYER_CASH",{get:function(){return t._INITIAL_PLAYER_CASH},set:function(e){t._INITIAL_PLAYER_CASH=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"LEAVE_JAIL_FEE_VALUE",{get:function(){return t._LEAVE_JAIL_FEE_VALUE},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_JAIL_TERM_VALUE",{get:function(){return t._MAX_JAIL_TERM_VALUE},set:function(e){t._MAX_JAIL_TERM_VALUE=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED",{get:function(){return t._PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED},set:function(e){t._PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"PROPERTY_MORTGAGE_INTEREST_RATE_VALUE",{get:function(){return t._PROPERTY_MORTGAGE_INTEREST_RATE_VALUE},set:function(e){t._PROPERTY_MORTGAGE_INTEREST_RATE_VALUE=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"PROPERTY_EVEN_BUILD_ENABLED",{get:function(){return t._PROPERTY_EVEN_BUILD_ENABLED},set:function(e){t._PROPERTY_EVEN_BUILD_ENABLED=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IMPROVEMENT_RESOURCES_FINITE",{get:function(){return t._IMPROVEMENT_RESOURCES_FINITE},set:function(e){t._IMPROVEMENT_RESOURCES_FINITE=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IMPROVEMENT_AMOUNT_HOUSE",{get:function(){return t._IMPROVEMENT_AMOUNT_HOUSE},set:function(e){t._IMPROVEMENT_AMOUNT_HOUSE=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IMPROVEMENT_AMOUNT_HOTEL",{get:function(){return t._IMPROVEMENT_AMOUNT_HOTEL},set:function(e){t._IMPROVEMENT_AMOUNT_HOTEL=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IMPROVEMENT_RESALE_PENALTY",{get:function(){return t._IMPROVEMENT_RESALE_PENALTY},set:function(e){t._IMPROVEMENT_RESALE_PENALTY=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"GROUP_COMPLETION_RENT_BONUS_VALUE",{get:function(){return t._GROUP_COMPLETION_RENT_BONUS_VALUE},set:function(e){t._GROUP_COMPLETION_RENT_BONUS_VALUE=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"PROPERTY_HOTEL_REQ",{get:function(){return t._PROPERTY_HOTEL_REQ},set:function(e){t._PROPERTY_HOTEL_REQ=e>0&&e<=4?e:4},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FREE_PARKING_BONUS_ENABLED",{get:function(){return t._FREE_PARKING_BONUS_ENABLED},set:function(e){t._FREE_PARKING_BONUS_ENABLED=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FREE_PARKING_BONUS_LIMIT",{set:function(e){t._FREE_PARKING_BONUS_LIMIT=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FREE_PARKING_BONUS_LIMIT_ENABLED",{get:function(){return t._FREE_PARKING_BONUS_LIMIT_ENABLED},set:function(e){t._FREE_PARKING_BONUS_LIMIT_ENABLED=e},enumerable:!0,configurable:!0}),t.increment__FREE_PARKING_BONUS_VALUE=function(e){var n;return t._FREE_PARKING_BONUS_VALUE+=e,t._FREE_PARKING_BONUS_LIMIT_ENABLED&&t._FREE_PARKING_BONUS_VALUE>=t._FREE_PARKING_BONUS_LIMIT?(t._FREE_PARKING_BONUS_VALUE=t._FREE_PARKING_BONUS_LIMIT,n="Free Parking bonus limit has been reached!  (Bal: "+t._FREE_PARKING_BONUS_VALUE+")"):n=e+" is paid into Free Parking (Bal: "+t._FREE_PARKING_BONUS_VALUE+")",n},t.clear_FREE_PARKING_BONUS_VALUE=function(){t._FREE_PARKING_BONUS_VALUE=0},Object.defineProperty(t,"FREE_PARKING_BONUS_VALUE",{get:function(){return t._FREE_PARKING_BONUS_VALUE},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SPEEDING_ENABLED",{get:function(){return t._SPEEDING_ENABLED},set:function(e){t._SPEEDING_ENABLED=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DOUBLES_SPEEDING_LIMIT",{get:function(){return t._DOUBLES_SPEEDING_LIMIT},set:function(e){t._DOUBLES_SPEEDING_LIMIT=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"PASS_GO_CREDIT",{get:function(){return t._PASS_GO_CREDIT},set:function(e){t._PASS_GO_CREDIT=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"GO_LANDING_BONUS_ENABLED",{get:function(){return t._GO_LANDING_BONUS_ENABLED},set:function(e){t.GO_LANDING_BONUS_ENABLED=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"GO_LANDING_BONUS_VALUE",{get:function(){return t._GO_LANDING_BONUS_VALUE},set:function(e){t._GO_LANDING_BONUS_VALUE=e},enumerable:!0,configurable:!0}),t._INITIAL_PLAYER_CASH=2500,t._PASS_GO_CREDIT=200,t._GO_LANDING_BONUS_ENABLED=!1,t._GO_LANDING_BONUS_VALUE=200,t._DOUBLES_SPEEDING_LIMIT=3,t._SPEEDING_ENABLED=!0,t._FREE_PARKING_BONUS_ENABLED=!1,t._FREE_PARKING_BONUS_LIMIT_ENABLED=!1,t._FREE_PARKING_BONUS_LIMIT=500,t._FREE_PARKING_BONUS_VALUE=0,t._IMPROVEMENT_RESOURCES_FINITE=!0,t._IMPROVEMENT_AMOUNT_HOUSE=32,t._IMPROVEMENT_AMOUNT_HOTEL=12,t._PROPERTY_EVEN_BUILD_ENABLED=!0,t._PROPERTY_HOTEL_REQ=4,t._IMPROVEMENT_RESALE_PENALTY=2,t._GROUP_COMPLETION_RENT_BONUS_VALUE=2,t._PROPERTY_MORTGAGE_INTEREST_RATE_ENABLED=!0,t._PROPERTY_MORTGAGE_INTEREST_RATE_VALUE=10,t._MAX_JAIL_TERM_VALUE=3,t._LEAVE_JAIL_FEE_VALUE=50,t}();n.Rules=r},{}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.START="START",t.END="END",t.PLAYER="PLAYER",t.ADVANCE="ADVANCE",t.JUMP="JUMP",t.JUMP_NEXT="JUMP_NEXT",t.INITIAL_LOCATION="INITIAL_LOCATION",t.INTERMEDIATE_LOCATION="INTERMEDIATE_LOCATION",t.FINAL_LOCATION="FINAL_LOCATION",t.ROLL_DICE="ROLL_DICE",t.PURCHACE="PURCHACE",t.PAY="PAY",t.RECEIVE="RECEIVE",t.DRAW_CHEST="DRAW_CHEST",t.DRAW_CHANCE="DRAW_CHANCE",t.NOTIFICATION="NOTIFICATION",t.HOUSE_ADD="HOUSE_ADD",t.HOUSE_REMOVE="HOUSE_REMOVE",t.HOTEL_ADD="HOTEL_ADD",t.HOTEL_REMOVE="HOTEL_REMOVE"}(n.EventType||(n.EventType={})),function(t){t.PROPERTY="PROPERTY",t.RAILROAD="RAILROAD",t.UTILITY="UTILITY",t.SPECIAL="SPECIAL",t.JAIL="JAIL"}(n.CellType||(n.CellType={})),function(t){t.TRANSITION_ABS="TRANSITION_ABS",t.TRANSITION_REL="TRANSITION_REL",t.DEBIT_ABS="DEBIT_ABS",t.DEBIT_REL="DEBIT_REL",t.CREDIT_ABS="CREDIT_ABS",t.CREDIT_REL="CREDIT_REL",t.JAIL="JAIL"}(n.ActionType||(n.ActionType={})),function(t){t.IN="IN",t.OUT="OUT",t.NEXT="NEXT",t.FROM_EACH="FROM_EACH",t.PAY_EACH="PAY_EACH",t.REPAIR="REPAIR",t.GO="GO"}(n.ActionPrimary||(n.ActionPrimary={})),function(t){t.WHEELBARROW="WHEELBARROW",t.BATTLESHIP="BATTLESHIP",t.RACECAR="RACECAR",t.THIMBLE="THIMBLE",t.SHOE="SHOE",t.DOG="DOG",t.TOPHAT="TOPHAT",t.CAT="CAT"}(n.Token||(n.Token={}))},{}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash"),o=t("./Cells"),i=t("./enums"),a=t("./Dice"),u=t("./ChanceCards"),c=t("./ChestCards"),l=t("./Rules"),s=t("./Players"),f=t("./GameLog"),h=t("../config/cardData.json"),p=t("../config/cellData.json");new l.Rules,new o.Cells(p),new s.Players,new a.Dice([6,6]),new u.ChanceCards(h),new c.ChestCards(h),new f.GameLog,console.log(Object.keys(o.Cells.LOCATIONS).length),s.Players.add("TEST",i.Token.SHOE),console.log(s.Players.PLAYERS);var _=0;do{r.map(s.Players.PLAYERS,function(t,e){t.initializeTurn()}),r.map(s.Players.PLAYERS,function(t,e){t.beginTurn()}),r.map(s.Players.PLAYERS,function(t,e){t.midTurn()}),r.map(s.Players.PLAYERS,function(t,e){t.endTurn()}),console.log(f.GameLog.GAME_LOG.map(function(t){return t.parseLogEntry()})),_++}while(_<100)},{"../config/cardData.json":1,"../config/cellData.json":2,"./Cells":7,"./ChanceCards":8,"./ChestCards":9,"./Dice":10,"./GameLog":11,"./Players":14,"./Rules":15,"./enums":16,lodash:4}]},{},[17]);